---
ms.assetid: 7a7ab95c-9cb3-4a7b-985a-3fc08334cf4f
title: Implémentation de modèles d’administration selon le principe des privilèges minimum
description: ''
ms.author: joflore
author: MicrosoftGuyJFlo
manager: mtillman
ms.date: 08/09/2018
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 01113b957c6b0be4e18955b5ddc78be3f463abe4
ms.sourcegitcommit: 236a8ae1da12cea1acfff3f306246db0f022354d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/27/2019
ms.locfileid: "67412211"
---
# <a name="implementing-least-privilege-administrative-models"></a>Implémentation de modèles d’administration selon le principe des privilèges minimum

>S'applique à : Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

L’extrait suivant provient [l’administrateur Accounts Security Planning Guide](https://technet.microsoft.com/library/cc162797.aspx), tout d’abord publié le 1er avril 1999 :

> « Plus liées à la sécurité des cours de formation et de la documentation étudier l’implémentation d’un principe de moindre privilège, mais les organisations rarement suivent. Le principe est simple, et l’impact de l’application de correctement considérablement améliore la sécurité et réduit les risques. Le principe que tous les utilisateurs doivent se connecter avec un compte d’utilisateur qui a les autorisations minimales nécessaires pour terminer la tâche en cours et rien de plus. Cela offre une protection contre le code malveillant, entre autres attaques. Ce principe s’applique aux ordinateurs et les utilisateurs de ces ordinateurs.   
> « Ce principe fonctionne aussi bien l’une des raisons sont qu’il vous oblige à faire des recherches internes. Par exemple, vous devez déterminer les privilèges d’accès dont un ordinateur ou un utilisateur a réellement besoin, puis de les implémenter. Pour de nombreuses organisations, cette tâche peut initialement sembler une grande quantité de travail ; Toutefois, il est une étape essentielle pour sécuriser correctement votre environnement réseau.
> « Vous devez accorder tous les utilisateurs d’administrateur de domaine leurs privilèges de domaine sous le concept de moindre privilège. Par exemple, si un administrateur ouvre une session avec un compte privilégié et exécute par inadvertance un programme antivirus, le virus a un accès administratif à l’ordinateur local et à l’ensemble du domaine. Si l’administrateur avait au lieu de cela connecté avec un compte non privilégié (non administratif), étendue du virus des dommages serait uniquement l’ordinateur local, car il s’exécute en tant qu’un utilisateur de l’ordinateur local.
> « Dans un autre exemple, les comptes auxquels vous accordez des droits d’administrateur au niveau du domaine ne doivent pas disposer de droits élevés dans une autre forêt, même s’il existe une relation d’approbation entre les forêts. Cette tactique permet de limiter les dégâts si une personne malveillante parvient à compromettre une forêt gérée. Les organisations doivent vérifier régulièrement leur réseau pour vous protéger contre l’élévation non autorisée de privilèges. »  

L’extrait suivant est à partir de la [Microsoft Windows Security Resource Kit](https://www.microsoftpressstore.com/store/microsoft-windows-security-resource-kit-9780735621749), 2005 publiés en premier :  

> « Pense toujours de la sécurité en termes d’accorder le moins de privilèges nécessaires pour effectuer la tâche. Si une application qui a trop de privilèges doit-elle être compromise, l’attaquant peut être en mesure de développer l’attaque au-delà qu’il le ferait si l’application avait été sous le moins de privilèges possibles. Par exemple, examinez les conséquences d’une administratrice réseau ouvrant involontairement une pièce jointe qui lance un virus. Si l’administrateur est connecté à l’aide de compte administrateur du domaine, le virus aura des privilèges d’administrateur sur tous les ordinateurs dans le domaine et par conséquent, un accès non restreint à presque toutes les données sur le réseau. Si l’administrateur est connecté à l’aide d’un compte d’administrateur local, le virus aura des privilèges d’administrateur sur l’ordinateur local et par conséquent serait en mesure d’accéder aux données sur l’ordinateur et installer des logiciels malveillants tels que les logiciels de journalisation de temps clé l’ordinateur. Si l’administrateur est connecté à l’aide d’un compte d’utilisateur normal, le virus auront accès uniquement aux données de l’administrateur et ne sera pas en mesure d’installer des logiciels malveillants. En utilisant les privilèges minimum nécessaires pour lire des e-mails, dans cet exemple, la portée de la compromission potentielle est considérablement limitée. »  

## <a name="the-privilege-problem"></a>Le problème de privilège

Les principes décrits dans les extraits précédentes n’ont pas changé, mais à évaluer les installations Active Directory, nous trouver invariablement un nombre excessif de comptes qui ont été accordés droits et autorisations au-delà de celles qui sont requises pour effectuer quotidiennes travail. La taille de l’environnement affecte les nombres bruts des comptes privilégiés trop, mais pas les répertoires proportionmidsized peuvent avoir des dizaines de comptes dans les groupes disposant de privilèges plus élevés, tandis que les installations de grande taille peuvent avoir des centaines ou milliers. À quelques exceptions près, quel que soit le niveau de sophistication des compétences d’un utilisateur malveillant et d’arsenal, les attaquants suivent généralement le chemin d’accès emprunté. Ils augmentent la complexité de leurs outils et l’approche uniquement si plus simple des mécanismes sont en panne ou contrecarré par défenseurs.  

Malheureusement, le chemin d’accès emprunté dans de nombreux environnements s’est avérée pour être l’utilisation abusive des comptes avec des privilèges d’étendue et approfondie. Privilèges étendus sont les droits et autorisations qui permettent à un compte d’effectuer des actions spécifiques sur une partie importante de l’environnement, par exemple, le personnel du support technique peut avoir des autorisations qui leur permettent de réinitialiser les mots de passe sur plusieurs comptes d’utilisateur.  

Privilèges profonds sont des privilèges élevés qui sont appliqués à un segment étroit du remplissage, par exemple un ingénieur de droits d’administrateur sur un serveur afin qu’ils puissent effectuer des réparations. Privilège large, ni privilège approfondie est nécessairement dangereux, mais lorsque plusieurs comptes dans le domaine sont accordées définitivement privilège vaste et étoffé, si seul un des comptes est compromis, il peut rapidement servir à reconfigurer l’environnement pour le à des fins de l’attaquant ou même à détruire les grands segments de l’infrastructure.  

Les attaques pass-the-hash, qui sont un type d’attaque de vol d’informations d’identification, sont omniprésentes étant donné que les outils pour les effectuer sont librement disponible et facile à utiliser, et étant donné que de nombreux environnements sont vulnérables aux attaques. Les attaques pass-the-hash, toutefois, ne sont pas le problème réel. L’essentiel de ce problème est double :  

1. Il est généralement facile pour un intrus d’obtenir des privilèges approfondie sur un seul ordinateur, puis propager ce privilège largement à d’autres ordinateurs.  
2. Il existe généralement trop de comptes avec des privilèges élevés permanente dans le paysage informatique.

Même si les attaques pass-the-hash sont éliminés, les attaquants suffit d’utiliser différentes tactiques, pas une stratégie différente. Au lieu de plantation contre les programmes malveillants qui contient le vol d’informations d’identification des outils, se plantes contre les programmes malveillants qui enregistre des séquences de touches, ou tirer parti de n’importe quel nombre d’autres approches pour capturer les informations d’identification sont puissantes au sein de l’environnement. Quel que soit les tactiques, les cibles restent les mêmes : comptes avec des privilèges d’étendue et approfondie.  

Octroi d’un privilège excessif n’est pas uniquement trouvé dans Active Directory dans les environnements compromis. Lorsqu’une organisation a développé l’habitude d’accorder le privilège plus élevé que nécessaire, il se trouve généralement dans l’infrastructure, comme indiqué dans les sections suivantes.  

## <a name="in-active-directory"></a>Dans Active Directory

Dans Active Directory, il est courant pour rechercher que les groupes de clients EA, DA et BA contiennent un nombre excessif de comptes. En règle générale, groupe de contrat entreprise d’une organisation contient les membres moins DA groupes contiennent généralement un multiplicateur du nombre d’utilisateurs dans le groupe EA et groupes d’administrateurs contiennent généralement plus de membres que la population des autres groupes combinés. Cela est souvent dû à une croyance que les administrateurs sont d’une certaine manière « moins privilégié » que DAs ou EAs. Bien que les droits et les autorisations accordées à chacun de ces groupes diffèrent, elles doivent être efficacement considérées tout aussi puissants groupes, car un membre d’un peut rendre lui-même ou lui-même un membre des deux autres.  

## <a name="on-member-servers"></a>Sur les serveurs membres

Lorsque nous récupérons l’appartenance de groupes d’administrateurs locaux sur les serveurs membres dans de nombreux environnements, nous trouvons appartenance allant d’un certain nombre de comptes locaux et de domaine, à des dizaines de groupes imbriqués qui, quand il est développé, révéler des centaines, voire de milliers de comptes avec des privilèges d’administrateur local sur les serveurs. Dans de nombreux cas, les groupes de domaine avec des appartenances à grandes sont imbriqués dans groupes Administrateurs locaux les serveurs membres, sans prendre en compte le fait que tous les utilisateurs peuvent modifier les appartenances à ces groupes dans le domaine peuvent prendre le contrôle d’administration de tous les systèmes sur lequel le groupe a été imbriqué dans un groupe d’administrateurs local.  

## <a name="on-workstations"></a>Sur les stations de travail

Bien que les stations de travail ont généralement beaucoup moins de membres dans leur groupe d’administrateurs locaux d’effectuent des serveurs membres, dans de nombreux environnements, les utilisateurs bénéficient de l’appartenance au groupe Administrateurs local sur leurs ordinateurs personnels. Lorsque cela se produit, même si UAC est activé, les utilisateurs présentent un risque élevé pour l’intégrité de leurs stations de travail.  

> [!IMPORTANT]  
> Vous devez envisager soigneusement si les utilisateurs ont besoin de droits d’administration sur leurs stations de travail, et s’ils le font, une meilleure approche peut être pour créer un compte local distinct sur l’ordinateur qui est membre du groupe Administrateurs. Lorsque les utilisateurs requièrent une élévation, ils peuvent présenter les informations d’identification de ce compte local d’élévation, mais étant donné que le compte est local, il ne peut pas être utilisé pour compromettre les autres ordinateurs ou accéder aux ressources de domaine. Comme avec tous les comptes locaux, toutefois, les informations d’identification du compte privilégié local doivent être uniques ; Si vous créez un compte local avec les mêmes informations d’identification sur plusieurs stations de travail, vous exposez les ordinateurs à des attaques pass-the-hash.  

## <a name="in-applications"></a>Dans les Applications

Lors des attaques dans lequel la cible est la propriété intellectuelle d’une organisation, les comptes qui disposent des privilèges élevés au sein d’applications peuvent être ciblés pour autoriser l’exfiltration de données. Bien que les comptes ayant accès aux données sensibles peuvent avoir été accordées sans privilèges élevés dans le domaine ou le système d’exploitation, les comptes qui permettent de manipuler la configuration d’une application ou fournit l’accès aux informations de l’application risques présents.  

## <a name="in-data-repositories"></a>Dans les référentiels de données

Comme c’est le cas avec d’autres cibles, les attaquants tente d’accéder à la propriété intellectuelle sous la forme de documents et d’autres fichiers peuvent cibler les comptes que contrôler l’accès au fichier stocke, les comptes qui ont un accès direct aux fichiers, ou même groupes ou aux rôles qui ont accéder aux fichiers. Par exemple, si un serveur de fichiers est utilisé pour stocker des documents de contrat et l’accès aux documents à l’aide d’un groupe Active Directory, un attaquant peut modifier l’appartenance du groupe peut ajouter des comptes compromis au groupe et le contrat d’accès documents. Dans le cas dans lequel les documents sont accessibles par les applications telles que SharePoint, les attaquants peuvent cibler les applications comme décrit précédemment.  

## <a name="reducing-privilege"></a>Réduction des privilèges

Le plus grand et plus complexe un environnement, plus difficile qu’il est de gérer et sécuriser. Dans les petites entreprises, révision et en réduisant de privilège peuvent être une proposition relativement simple, mais chaque serveur supplémentaire, une station de travail, un compte d’utilisateur et une application en cours d’utilisation dans une organisation ajoutent un autre objet qui doit être sécurisé. Car il peut être difficile, voire même à correctement sécuriser tous les aspects d’une organisation infrastructure informatique, vous devez tout d’abord vous concentrer les efforts sur les comptes dont les privilèges créer le plus grand risque, qui sont généralement des comptes privilégiés intégrés et groupes dans Active Directory et privilégié des comptes locaux sur les stations de travail et les serveurs membres.  

### <a name="securing-local-administrator-accounts-on-workstations-and-member-servers"></a>Sécurisation des comptes d’administrateur Local sur les stations de travail et serveurs membres

Bien que ce document se concentre sur la sécurisation d’Active Directory, comme l’a été évoquée précédemment, la plupart des attaques contre le répertoire commencent comme indiqué dans les attaques contre les ordinateurs hôtes individuels. Impossible de fournir des instructions complètes pour la sécurisation des groupes locaux sur les systèmes de membre, mais les recommandations suivantes peuvent être utilisées pour vous aider à sécuriser les comptes d’administrateur locales sur les stations de travail et les serveurs membres.  

#### <a name="securing-local-administrator-accounts"></a>Sécurisation des comptes d’administrateur Local

Sur toutes les versions de Windows actuellement dans le support standard, le compte administrateur local est désactivé par défaut, ce qui rend le compte inutilisable pour pass-the-hash et autres attaques de vol d’informations d’identification. Toutefois, dans les domaines contenant des systèmes d’exploitation hérités ou les comptes administrateur locaux ont été activées, ces comptes peuvent être utilisés comme décrit précédemment pour propager des compromis sur les stations de travail et les serveurs membres. Pour cette raison, les contrôles suivants sont recommandés pour tous les comptes administrateur locaux sur les systèmes joints à un domaine.  

Instructions détaillées pour l’implémentation de ces contrôles sont fournies dans [annexe H: Sécurisation des comptes d’administrateur Local et les groupes](../../../ad-ds/plan/security-best-practices/Appendix-H--Securing-Local-Administrator-Accounts-and-Groups.md). Avant d’implémenter ces paramètres, toutefois, vous assurer que les comptes administrateur locaux ne sont pas actuellement utilisées dans l’environnement pour exécuter des services sur des ordinateurs ou effectuer d’autres activités pour lesquelles ces comptes ne doivent pas être utilisés. Testez ces paramètres soigneusement avant de les implémenter dans un environnement de production.  

#### <a name="controls-for-local-administrator-accounts"></a>Contrôles pour les comptes d’administrateur Local

Comptes d’administrateur intégrés ne doivent jamais être utilisés comme comptes de service sur les serveurs membres, ni ils doivent être utilisés pour se connecter aux ordinateurs locaux (sauf en Mode sans échec, ce qui est possible même si le compte est désactivé). L’objectif de la mise en œuvre les paramètres décrits ici consiste à empêcher de compte d’administrateur local de chaque ordinateur d’être utilisable, sauf si les contrôles de protection sont inversés tout d’abord. Par l’implémentation de ces contrôles et la surveillance des comptes d’administrateur pour les modifications, vous pouvez réduire considérablement la probabilité de réussite d’une attaque que comptes d’administrateur local de cibles.  

##### <a name="configuring-gpos-to-restrict-administrator-accounts-on-domain-joined-systems"></a>Configuration de stratégie de groupe pour limiter les comptes d’administrateur sur les systèmes joints à un domaine

Dans un ou plusieurs objets stratégie de groupe que vous créez et liez à la station de travail et le serveur membre unités d’organisation dans chaque domaine, ajoutez le compte d’administrateur les droits d’utilisateur suivants dans **ordinateur Configuration\Policies\Windows Settings\Security Settings\Local Policies\ Attribution des droits utilisateur**:  

- Interdire l’accès à cet ordinateur à partir du réseau
- Interdire l’ouverture de session en tant que tâche
- Interdire l’ouverture de session en tant que service
- Interdire l’ouverture de session par les services Bureau à distance

Lorsque vous ajoutez des comptes d’administrateur à ces droits d’utilisateur, spécifiez si vous ajoutez le compte administrateur local ou l’administrateur du domaine de compte au fait que vous étiquetez le compte. Par exemple, pour ajouter le compte d’administrateur du domaine NWTRADERS à ces refuser des droits, vous devez taper le compte en tant que **NWTRADERS\Administrateur**, ou accédez au compte d’administrateur du domaine NWTRADERS. Pour vous assurer que vous restreindre le compte administrateur local, tapez **administrateur** dans ces paramètres dans l’éditeur d’objet de stratégie de groupe des droits utilisateur.  

> [!NOTE]  
> Même si les comptes administrateur locaux sont renommés, les stratégies seront appliqueront.  

Ces paramètres garantissent que compte d’administrateur d’un ordinateur ne peut pas être utilisé pour se connecter à d’autres ordinateurs, même s’il est par inadvertance ou intentionnellement activé. Impossible de désactiver complètement les ouvertures de session locales à l’aide du compte administrateur local, ni si vous devez essayer pour ce faire, car le compte d’administrateur local d’un ordinateur est conçu pour être utilisé dans les scénarios de récupération d’urgence.  

Doit un serveur membre ou une station de travail deviennent disjoint du domaine avec aucun autre privilège accordé d’administration des comptes locaux, l’ordinateur peut être démarré en mode sans échec, le compte d’administrateur peut être activé et le compte peut ensuite être utilisé pour effet réparations sur l’ordinateur. Lorsque les réparations effectuées, le compte d’administrateur doit être désactivé à nouveau.  

### <a name="securing-local-privileged-accounts-and-groups-in-active-directory"></a>Sécurisation des comptes privilégiés locaux et groupes dans Active Directory

*La loi numéro Six : Un ordinateur n’est pas aussi sécurisé que l’administrateur est digne de confiance.* - [Dix lois immuables de sécurité (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  

Les informations fournies ici sont destinées à donner des recommandations générales pour sécuriser les comptes intégrés à faibles privilèges le plus élevés et les groupes dans Active Directory. Obtenir des instructions détaillées sont également disponibles dans [annexe d : Sécurisation des comptes d’administrateur intégré dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md), [annexe e : Sécurisation des groupes administrateurs d’entreprise dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-E--Securing-Enterprise-Admins-Groups-in-Active-Directory.md), [annexe f : Sécurisation des groupes d’administrateurs de domaine dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory.md)et dans [annexe g : Sécurisation des groupes d’administrateurs dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-G--Securing-Administrators-Groups-in-Active-Directory.md).  

Avant d’implémenter un de ces paramètres, vous devez également tester tous les paramètres de manière approfondie pour déterminer si elles sont adaptées à votre environnement. Pas toutes les organisations pourront implémenter ces paramètres.  

#### <a name="securing-built-in-administrator-accounts-in-active-directory"></a>Sécurisation des comptes d’administrateur intégré dans Active Directory

Dans chaque domaine dans Active Directory, un compte d’administrateur est créé dans le cadre de la création du domaine. Ce compte est par défaut un membre des administrateurs du domaine et des groupes d’administrateur dans le domaine, et si le domaine est le domaine racine de forêt, le compte est également un membre du groupe Administrateurs de l’entreprise. Utilisation du compte d’administrateur local d’un domaine doit être réservée uniquement pour les activités de génération initiale et, éventuellement, les scénarios de récupération d’urgence. Pour vous assurer qu’un compte administrateur intégré peut être utilisé pour effectuer des réparations dans le cas où aucun autre compte ne peut être utilisé, vous ne devez pas modifier l’appartenance par défaut du compte d’administrateur dans n’importe quel domaine de la forêt. Au lieu de cela, vous devez indications pour aider à sécuriser le compte d’administrateur dans chaque domaine dans la forêt. Instructions détaillées pour l’implémentation de ces contrôles sont fournies dans [annexe d : Sécurisation des comptes d’administrateur intégré dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md).  

#### <a name="controls-for-built-in-administrator-accounts"></a>Contrôles pour les comptes d’administrateur intégré

De la mise en œuvre les paramètres décrits ici vise à empêcher le compte d’administrateur de chaque domaine (pas un groupe) ne sont pas utilisables, sauf si un certain nombre de contrôles est inversé. En implémentant ces contrôles et en surveillant les comptes d’administrateur pour les modifications, vous pouvez réduire considérablement la probabilité d’une attaque réussie en tirant parti de compte d’administrateur d’un domaine. Pour le compte administrateur dans chaque domaine dans votre forêt, vous devez configurer les paramètres suivants.  

##### <a name="enable-the-account-is-sensitive-and-cannot-be-delegated-flag-on-the-account"></a>Activer l’indicateur « Compte est sensible et ne peut pas être délégué » sur le compte

Par défaut, tous les comptes dans Active Directory peuvent être déléguées. La délégation permet à un ordinateur ou un service pour présenter les informations d’identification d’un compte qui a authentifié à l’ordinateur ou à d’autres ordinateurs pour obtenir des services au nom du compte. Lorsque vous activez le **compte est sensible et ne peut pas être délégué** attribut sur un compte de domaine, informations d’identification du compte ne peut pas être présentées à d’autres ordinateurs ou les services sur le réseau, ce qui limite les attaques qui exploitent délégation à utiliser les informations d’identification du compte sur d’autres systèmes.  

##### <a name="enable-the-smart-card-is-required-for-interactive-logon-flag-on-the-account"></a>Activer l’indicateur « carte à puce est requise pour l’ouverture de session interactive » sur le compte

Lorsque vous activez le **carte à puce est requise pour l’ouverture de session interactive** attribut sur un compte, Windows réinitialise le mot de passe à une valeur aléatoire de 120 caractères. En définissant cet indicateur sur les comptes d’administrateur intégrés, vous vous assurer que le mot de passe pour le compte est non seulement long et complexe, mais n’est pas connu à n’importe quel utilisateur. Il n’est pas techniquement nécessaire créer des cartes à puce pour les comptes avant l’activation de cet attribut, mais dans la mesure du possible, les cartes à puce doit être créés pour chaque compte d’administrateur avant de configurer les restrictions de compte et les cartes à puce doivent être stockées dans emplacements sécurisés.  

Bien que la définition du **carte à puce est requise pour l’ouverture de session interactive** indicateur réinitialise le mot de passe du compte, il n’empêche pas un utilisateur disposant de droits pour réinitialiser le mot de passe du compte à partir de la définition du compte sur une valeur connue et à l’aide de la nouveau mot de passe pour accéder aux ressources sur le réseau et nom du compte. Pour cette raison, vous devez implémenter les contrôles supplémentaires suivants sur le compte.  

##### <a name="configuring-gpos-to-restrict-domains-administrator-accounts-on-domain-joined-systems"></a>Configuration de stratégie de groupe pour limiter les comptes d’administrateur de domaines sur des systèmes joints à un domaine

Bien que la désactivation du compte d’administrateur dans un domaine du compte efficacement inutilisable, vous devez implémenter des restrictions supplémentaires sur le compte au cas où le compte est activé par inadvertance ou par malveillance. Bien que ces contrôles peuvent finalement être inversées par le compte d’administrateur, l’objectif est de créer des contrôles qui ralentissent la progression de l’attaquant et limite les dommages le compte peut avoir des conséquences néfastes.  

Dans un ou plusieurs objets stratégie de groupe que vous créez et liez à la station de travail et le serveur membre unités d’organisation dans chaque domaine, ajouter le compte d’administrateur de chaque domaine pour les droits d’utilisateur suivants dans **ordinateur Configuration ordinateur\Stratégies\Paramètres Windows\Paramètres de sécurité\Stratégies Locales\Attribution des droits utilisateur affectations**:  

- Interdire l’accès à cet ordinateur à partir du réseau  
- Interdire l’ouverture de session en tant que tâche  
- Interdire l’ouverture de session en tant que service  
- Interdire l’ouverture de session par les services Bureau à distance  

> [!NOTE]  
> Lorsque vous ajoutez des comptes d’administrateur locales à ce paramètre, vous devez spécifier si vous configurez les comptes administrateur locaux ou des comptes d’administrateur de domaine. Par exemple, pour ajouter le compte d’administrateur local du domaine NWTRADERS à ces refuser des droits, vous devez taper le compte en tant que **NWTRADERS\Administrateur**, ou recherchez le compte d’administrateur local pour le domaine NWTRADERS. Si vous tapez **administrateur** dans ces paramètres de droits d’utilisateur dans l’éditeur d’objet de stratégie de groupe, vous allez restreindre le compte d’administrateur local sur chaque ordinateur auquel l’objet de stratégie de groupe est appliqué.  
>
> Nous recommandons de limiter les comptes administrateur locaux sur les serveurs membres et les stations de travail de la même manière que les comptes administrateur de domaine. Par conséquent, vous devez ajouter généralement le compte d’administrateur pour chaque domaine dans la forêt et le compte d’administrateur pour les ordinateurs locaux à ces paramètres de droits d’utilisateur. 

##### <a name="configuring-gpos-to-restrict-administrator-accounts-on-domain-controllers"></a>Configuration de stratégie de groupe pour limiter les comptes d’administrateur sur les contrôleurs de domaine

Dans chaque domaine dans la forêt, la stratégie des contrôleurs de domaine par défaut ou une stratégie liée à l’unité d’organisation des contrôleurs de domaine doit être modifiée pour ajouter le compte d’administrateur de chaque domaine pour les droits d’utilisateur suivants dans **Configuration ordinateur\Stratégies\Paramètres ordinateur Windows Settings\Security Settings\Local Policies\User Rights Assignments**:  

- Interdire l’accès à cet ordinateur à partir du réseau  
- Interdire l’ouverture de session en tant que tâche  
- Interdire l’ouverture de session en tant que service  
- Interdire l’ouverture de session par les services Bureau à distance  

> [!NOTE]  
> Ces paramètres garantissent que le compte administrateur local ne peut pas être utilisé pour se connecter à un contrôleur de domaine, bien que le compte, si activé, peut ouvrir une session localement aux contrôleurs de domaine. Étant donné que ce compte doit uniquement être activé et utilisé dans les scénarios de récupération d’urgence, il est prévu que l’accès physique au moins un contrôleur de domaine sera disponible, ou que les autres comptes disposant d’autorisations pour accéder à distance des contrôleurs de domaine peuvent être utilisé.  

##### <a name="configure-auditing-of-built-in-administrator-accounts"></a>Configurer l’audit des comptes d’administrateur intégrés

Lorsque vous avez sécurisé le compte d’administrateur de chaque domaine et l’a désactivée, vous devez configurer l’audit pour surveiller les modifications apportées au compte. Si le compte est activé, son mot de passe est réinitialisé, ou toutes les autres modifications sont apportées au compte, alertes doivent être envoyées pour les utilisateurs ou les équipes responsables de l’administration des services AD DS, en plus des équipes de réponse aux incidents de votre organisation.  

### <a name="securing-administrators-domain-admins-and-enterprise-admins-groups"></a>Sécurisation des administrateurs, Admins du domaine et groupes administrateurs d’entreprise

#### <a name="securing-enterprise-admin-groups"></a>Sécurisation des groupes d’administration Enterprise

Le groupe Administrateurs de l’entreprise, qui est hébergé dans le domaine racine de forêt, ne doit contenir aucun utilisateur sur une base quotidienne, à l’exception du compte d’administrateur local du domaine, sous réserve qu’il est sécurisé comme décrit précédemment et dans [ Annexe d : Sécurisation des comptes d’administrateur intégré dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md).  

Lors de l’accès de l’EA est requis, les utilisateurs dont les comptes requièrent des autorisations et droits de contrat entreprise doivent être temporairement placés dans le groupe d’administrateurs de l’entreprise. Bien que les utilisateurs utilisent les comptes à privilèges élevés, leurs activités doivent être auditées et effectuées de préférence avec un utilisateur qui effectue les modifications et un autre utilisateur en observant les modifications pour réduire la probabilité d’une mauvaise utilisation accidentelle ou une configuration incorrecte . Lorsque les activités sont terminées, les comptes doivent être supprimés du groupe EA. Cela peut être obtenue via des procédures manuelles et de processus documentés, logiciel de gestion (PIM/PAM) tiers privilégié identités et des accès ou une combinaison des deux. Instructions pour la création de comptes qui peut être utilisé pour contrôler l’appartenance des groupes privilégiés dans Active Directory sont fournies dans [comptes attrayants pour le vol d’informations d’identification](../../../ad-ds/plan/security-best-practices/Attractive-Accounts-for-Credential-Theft.md) et obtenir des instructions détaillées sont fournies dans [Annexe i : Création de comptes de gestion pour protégé des comptes et groupes dans Active Directory](../../../ad-ds/manage/component-updates/Appendix-I--Creating-Management-Accounts-for-Protected-Accounts-and-Groups-in-Active-Directory.md).  

Administrateurs de l’entreprise sont, par défaut, les membres du groupe Administrateurs intégré dans chaque domaine dans la forêt. Suppression du groupe Administrateurs de l’entreprise à partir du groupe Administrateurs dans chaque domaine d’est une modification inappropriée, car en cas d’un scénario de récupération d’urgence de forêt, les droits EA sera probablement nécessaire. Si le groupe Administrateurs de l’entreprise a été supprimé à partir de groupes d’administrateurs dans une forêt, il doit être ajouté au groupe Administrateurs dans chaque domaine et les contrôles supplémentaires suivants doivent être implémentées :  

- Comme indiqué précédemment, le groupe Administrateurs de l’entreprise ne doit contenir aucun utilisateur sur une base quotidienne, à l’exception du compte d’administrateur du domaine racine de forêt, qui doit être sécurisée comme décrit dans [annexe d : Sécurisation des comptes d’administrateur intégré dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md).  
- Dans Stratégie de groupe liés aux unités d’organisation contenant les serveurs membres et les stations de travail dans chaque domaine, le groupe de contrat entreprise doit être ajouté aux droits d’utilisateur suivants :  
   - Interdire l’accès à cet ordinateur à partir du réseau  
   - Interdire l’ouverture de session en tant que tâche  
   - Interdire l’ouverture de session en tant que service  
   - Interdire l’ouverture d’une session locale  
   - Refuse la connexion via les Services Bureau à distance.  

Cela empêchera les membres du groupe EA à partir de la connexion à des stations de travail et les serveurs membres. Si les serveurs jump sont utilisés pour administrer les contrôleurs de domaine et Active Directory, vérifiez que les serveurs jump sont trouvent dans une unité d’organisation à laquelle les GPO restrictives ne sont pas liés.  

- L’audit doit être configuré pour envoyer des alertes si toutes les modifications sont apportées aux propriétés ou l’appartenance au groupe EA. Ces alertes doivent être envoyées, au minimum, à des utilisateurs ou les équipes responsables de la réponse de l’administration et d’incident d’Active Directory. Vous devez également définir des processus et procédures pour le remplissage temporairement le groupe EA, y compris les procédures de notification lors de l’alimentation légitime du groupe est effectuée.  
  
#### <a name="securing-domain-admins-groups"></a>Sécurisation des groupes d’administrateurs de domaine

Comme c’est le cas avec le groupe Administrateurs de l’entreprise, l’appartenance aux groupes d’administrateurs du domaine doit être requis uniquement dans les scénarios de génération ou de récupération d’urgence. Il ne doit être aucun compte d’utilisateur ordinaires dans le groupe DA à l’exception du compte administrateur local pour le domaine, si elle a été sécurisée comme décrit dans [annexe d : Sécurisation des comptes d’administrateur intégré dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md).  
  
Lors de l’accès de DA est requis, les comptes ayant besoin de ce niveau d’accès doivent être placés temporairement dans le groupe de DA pour le domaine en question. Bien que les utilisateurs utilisent les comptes à privilèges élevés, activités doivent être vérifiées et effectuées de préférence avec un utilisateur qui effectue les modifications et un autre utilisateur en observant les modifications pour réduire la probabilité d’une mauvaise utilisation accidentelle ou une configuration incorrecte. Lorsque les activités sont terminées, les comptes doivent être supprimés du groupe Admins du domaine. Cela peut être obtenue via des procédures manuelles et de processus documentés, via le logiciel de gestion (PIM/PAM) tiers privilégié identités et des accès, ou une combinaison des deux. Instructions pour la création de comptes qui peut être utilisé pour contrôler l’appartenance des groupes privilégiés dans Active Directory sont fournies dans [annexe i Création de comptes de gestion pour protégé des comptes et groupes dans Active Directory](../../../ad-ds/manage/component-updates/../../../ad-ds/manage/component-updates/Appendix-I--Creating-Management-Accounts-for-Protected-Accounts-and-Groups-in-Active-Directory.md).  
  
Les administrateurs de domaine sont, par défaut, les membres du groupe Administrateurs local sur tous les serveurs membres et les stations de travail de leurs domaines respectifs. Cette imbrication par défaut ne doit pas être modifiée, car il affecte les options de récupération d’urgence et de prise en charge. Si les groupes Admins du domaine ont été supprimées à partir du groupe Administrateurs locaux sur les serveurs membres, ils doivent être ajoutés au groupe Administrateurs sur chaque serveur membre et de la station de travail dans le domaine par le biais des paramètres de groupe restreint dans les objets GPO. Les contrôles généraux suivants, qui sont décrites en détail dans [annexe F: Sécurisation des groupes d’administrateurs de domaine dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory.md) doit également être implémenté.  

Pour le groupe Admins du domaine dans chaque domaine dans la forêt :  

1. Supprimer tous les membres du groupe de DA, à l’exception du compte administrateur intégré pour le domaine, sous réserve qu’il a été sécurisé comme décrit dans [annexe d : Sécurisation des comptes d’administrateur intégré dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md).  
2. Dans Stratégie de groupe liés aux unités d’organisation contenant les serveurs membres et les stations de travail dans chaque domaine, le groupe DA doit être ajouté aux droits d’utilisateur suivants :  
   - Interdire l’accès à cet ordinateur à partir du réseau  
   - Interdire l’ouverture de session en tant que tâche  
   - Interdire l’ouverture de session en tant que service  
   - Interdire l’ouverture d’une session locale  
   - Interdire l’ouverture de session par les services Bureau à distance  
  
   Cela empêchera les membres du groupe DA de vous connecter à des stations de travail et les serveurs membres. Si les serveurs jump sont utilisés pour administrer les contrôleurs de domaine et Active Directory, vérifiez que les serveurs jump sont trouvent dans une unité d’organisation à laquelle les GPO restrictives ne sont pas liés.  

3. L’audit doit être configuré pour envoyer des alertes si toutes les modifications sont apportées aux propriétés ou l’appartenance au groupe DA. Ces alertes doivent être envoyées, au minimum, à des utilisateurs ou les équipes responsables de la réponse d’incident d’administration et de services AD DS. Vous devez également définir des processus et procédures pour le remplissage temporairement le groupe DA, y compris les procédures de notification lors de l’alimentation légitime du groupe est effectuée.  

#### <a name="securing-administrators-groups-in-active-directory"></a>Sécurisation des groupes d’administrateurs dans Active Directory

Comme c’est le cas avec les groupes EA et DA, appartenance au groupe Administrateurs (BA) doit être nécessaires uniquement dans les scénarios de génération ou de récupération d’urgence. Il ne doit être aucun compte d’utilisateur ordinaires dans le groupe administrateurs à l’exception du compte administrateur local pour le domaine, si elle a été sécurisée comme décrit dans [annexe d : Sécurisation des comptes d’administrateur intégré dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md).  

Lors de l’accès des administrateurs est requis, les comptes ayant besoin de ce niveau d’accès doivent être placés temporairement dans le groupe Administrateurs pour le domaine en question. Bien que les utilisateurs utilisent les comptes à privilèges élevés, activités doivent être auditées et, de préférence, effectuées avec un utilisateur qui effectue les modifications et un autre utilisateur en observant les modifications pour réduire la probabilité d’une mauvaise utilisation accidentelle ou une configuration incorrecte. Lorsque les activités sont terminées, les comptes doivent immédiatement être retirés du groupe Administrateurs. Cela peut être obtenue via des procédures manuelles et de processus documentés, via le logiciel de gestion (PIM/PAM) tiers privilégié identités et des accès, ou une combinaison des deux.  

Les administrateurs sont, par défaut, les propriétaires de la plupart des objets AD DS dans leurs domaines respectifs. L’appartenance à ce groupe peut être nécessaire dans les scénarios de récupération d’urgence et de la build dans laquelle la propriété ou la possibilité de prendre possession d’objets est requise. En outre, DAs et EAs héritent d’un nombre de leurs droits et autorisations en vertu de leur appartenance par défaut dans le groupe Administrateurs. Par défaut le groupe d’imbrication de groupes privilégiés dans Active Directory ne doivent pas être modifiés, et groupe d’administrateurs de chaque domaine doit être sécurisée comme décrit dans [g : annexe Sécurisation des groupes d’administrateurs dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-G--Securing-Administrators-Groups-in-Active-Directory.md)et dans les instructions générales ci-dessous.  

1. Supprimez tous les membres du groupe Administrateurs, à l’exception du compte d’administrateur local pour le domaine, sous réserve qu’il a été sécurisé comme décrit dans [annexe d : Sécurisation des comptes d’administrateur intégré dans Active Directory](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md).  
2. Membres du groupe d’administrateurs du domaine ne doivent jamais besoin pour vous connecter à des serveurs membres ou des stations de travail. Dans un ou plusieurs objets stratégie de groupe lié à la station de travail et le serveur membre unités d’organisation dans chaque domaine, le groupe Administrateurs doit être ajouté aux droits d’utilisateur suivants :  
   - Interdire l’accès à cet ordinateur à partir du réseau  
   - Refuse la connexion comme un traitement par lots  
   - Interdire l’ouverture de session en tant que service  
   - Cela empêchera les membres du groupe Administrateurs d’utilisées pour se connecter ou se connecter à des serveurs membres ou des stations de travail (sauf si plusieurs contrôles sont tout d’abord violation), où leurs informations d’identification peuvent être mis en cache et ainsi de compromis. Un compte privilégié ne doit jamais être utilisé pour ouvrir une session sur un système avec moins de privilèges et en appliquant ces contrôles offre une protection contre un nombre d’attaques.  

3. À l’unité d’organisation dans chaque domaine dans la forêt, le groupe Administrateurs doit être accordée à l’utilisateur suivant des contrôleurs de domaine doté de droits (s’ils n’ont pas déjà de ces droits) qui autorise les membres du groupe Administrateurs pour effectuer les fonctions nécessaires pour un scénario de récupération d’urgence à l’échelle de la forêt :  
   - Accéder à cet ordinateur à partir du réseau  
   - Permettre l’ouverture d’une session locale  
   - Autoriser l’ouverture de session par les services Bureau à distance  

4. L’audit doit être configuré pour envoyer des alertes si des modifications sont apportées aux propriétés ou aux membres du groupe Administrateurs. Ces alertes doivent être envoyées, au minimum, aux membres de l’équipe chargée de l’administration des services AD DS. Alertes doivent également être envoyées aux membres de l’équipe de sécurité et procédures doivent être définis pour modifier l’appartenance du groupe Administrateurs. Plus précisément, ces processus doivent inclure une procédure à laquelle l’équipe de sécurité est notifié lorsque le groupe d’administrateurs va être modifié afin que lorsque les alertes sont envoyées, elles sont censées et une alarme n’est pas déclenchée. En outre, les processus pour notifier l’équipe de sécurité lors de l’utilisation du groupe Administrateurs est terminée et les comptes utilisés ont été supprimés du groupe doivent être implémentés.  

> [!NOTE]  
> Lorsque vous implémentez des restrictions sur le groupe Administrateurs de stratégie de groupe, Windows applique les paramètres aux membres du groupe Administrateurs local de l’ordinateur en plus du groupe d’administrateurs du domaine. Par conséquent, vous soyez prudent lors de l’implémentation des restrictions sur le groupe Administrateurs. Bien que l’interdiction des ouvertures de session réseau, de traitement par lots et de service pour les membres du groupe Administrateurs est recommandé, là où il est possible d’implémenter, ne pas restreindre les ouvertures de session locales ou des ouvertures de session via les Services Bureau à distance. Ces types d’ouverture de session de blocage peut bloquer l’administration légitime d’un ordinateur par les membres du groupe Administrateurs local. La capture d’écran suivante montre les paramètres de configuration de bloquer l’utilisation incorrecte d’intégré local et comptes d’administrateur domaine, en plus de l’utilisation incorrecte du groupe Administrateurs intégré au domaine ou local. Notez que le **refuse la connexion via les Services Bureau à distance** droit d’utilisateur n’inclut pas le groupe Administrateurs, car son inclusion dans ce paramètre bloque également ces ouvertures de session pour les comptes qui sont membres de l’ordinateur local Groupe d’administrateurs. Si les services sur les ordinateurs sont configurés pour s’exécuter dans le contexte d’un des groupes privilégiés décrites dans cette section, mise en œuvre de ces paramètres peut entraîner services et applications en échec. Par conséquent, avec toutes les recommandations contenues dans cette section, vous devez tester rigoureusement les paramètres de mise en application dans votre environnement.  
>
> ![modèles d’administrateur privilège minimum](media/Implementing-Least-Privilege-Administrative-Models/SAD_3.gif)  

### <a name="role-based-access-controls-rbac-for-active-directory"></a>Contrôles d’accès en fonction du rôle (RBAC) pour Active Directory

En règle générale, les contrôles d’accès en fonction du rôle (RBAC) sont un mécanisme de regroupement d’utilisateurs et en fournissant un accès aux ressources en fonction des règles d’entreprise. Dans le cas d’Active Directory, l’implémentation de RBAC pour AD DS est le processus de création de rôles auquel les droits et les autorisations sont déléguées à permettre aux membres du rôle effectuer des tâches d’administration quotidiennes sans leur accorder un privilège excessif. RBAC pour Active Directory peut être conçue et implémentée via permise par les outils et les interfaces, en tirant parti du logiciel que vous possède déjà, en achetant des produits tiers, ou n’importe quelle combinaison de ces approches. Cette section ne fournit pas d’instructions pas à pas pour implémenter le RBAC pour Active Directory, mais au lieu de cela décrit les facteurs que vous devez envisager de choisir une approche à l’implémentation de RBAC dans vos installations AD DS.  

#### <a name="native-approaches-to-rbac-for-active-directory"></a>Approches natives pour RBAC pour Active Directory

Dans l’implémentation la plus simple de RBAC, vous pouvez implémenter des rôles en tant que groupes d’AD DS et déléguer les droits et autorisations pour les groupes qui lui permettent d’effectuer l’administration quotidienne dans la portée désignée du rôle.  

Dans certains cas, des groupes de sécurité existants dans Active Directory peuvent être utilisés pour accorder des droits et des autorisations appropriées pour une fonction de travail. Par exemple, si des employés de votre organisation informatique sont responsables de la gestion et la maintenance des enregistrements et zones DNS, la délégation de ces responsabilités peut être aussi simple que la création d’un compte pour chaque administrateur DNS et en l’ajoutant au DNS Groupe d’administrateurs dans Active Directory. Le groupe Administrateurs DNS, contrairement aux groupes disposant de privilèges plus élevés, a peu puissants de droits sur Active Directory, bien que les membres de ce groupe ont été délégué des autorisations qui leur permettent d’administrer le DNS et sont toujours susceptibles d’être compromis et les abus peut entraîner élévation de privilèges.

Dans d’autres cas, vous devrez peut-être créer des groupes de sécurité et de déléguer les droits et autorisations pour les objets Active Directory, les objets de système de fichiers et les objets de Registre pour permettre aux membres des groupes pour effectuer des tâches administratives désignés. Par exemple, si vos opérateurs du support technique sont responsables de la réinitialisation des mots de passe oubliés, aider les utilisateurs avec des problèmes de connectivité et la résolution des problèmes de paramètres d’application, vous devrez peut-être combiner les paramètres de délégation sur des objets utilisateur dans Active Directory avec des privilèges qui permettent aux utilisateurs du support technique pour se connecter à distance aux ordinateurs des utilisateurs pour afficher ou modifier les paramètres de configuration de l’utilisateur. Pour chaque rôle que vous définissez, vous devez identifier :  

1. Les tâches les membres du rôle effectuer sur une base quotidienne et les tâches qui sont moins fréquemment effectuées.  
2. Sur quels systèmes et dans les applications membres d’un rôle doivent être droits et autorisations accordés.  
3. Les utilisateurs qui doivent être accordées à l’appartenance à un rôle.  
4. Comment la gestion des appartenances aux rôles sera effectuée.  

Dans de nombreux environnements, la création manuelle des contrôles d’accès en fonction du rôle pour l’administration d’un environnement Active Directory peut être difficile à implémenter et à gérer. Si vous avez clairement défini des rôles et responsabilités pour l’administration de votre infrastructure informatique, vous souhaiterez tirer parti des outils supplémentaires pour vous aider à créer un déploiement RBAC natif facile à gérer. Par exemple, si Forefront Identity Manager (FIM) est en cours d’utilisation dans votre environnement, vous pouvez utiliser FIM pour automatiser la création et le remplissage des rôles d’administration, ce qui peut faciliter l’administration en cours. Si vous utilisez System Center Configuration Manager (SCCM) et System Center Operations Manager (SCOM), vous pouvez utiliser des rôles spécifiques à l’application à déléguer la gestion et fonctions de surveillance et également appliquer une configuration cohérente et audit sur les systèmes de le domaine. Si vous avez implémenté une infrastructure à clé publique (PKI), vous pouvez émettre et nécessitent des cartes à puce pour le personnel informatique chargé d’administrer l’environnement. Avec la gestion des informations d’identification de FIM (FIM CM), vous pouvez même combiner la gestion des rôles et des informations d’identification pour votre personnel administratif.  

Dans d’autres cas, il peut être préférable pour une organisation à prendre en compte le déploiement de logiciels RBAC tiers qui fournit des fonctionnalités de « out-of-box ». Les solutions (COTS) standard pour RBAC pour Active Directory, Windows et les répertoires non Windows et les systèmes d’exploitation sont proposées par un nombre de fournisseurs. Lors du choix entre les solutions natives et les produits tiers, vous devez envisager les facteurs suivants :  

1. Budget : En investissant dans le développement de RBAC à l’aide de logiciels et des outils que vous possédez peut-être déjà, vous pouvez réduire le coût des logiciels impliqué dans le déploiement d’une solution. Toutefois, à moins d’avoir personnel qui est familiarisé avec la création et le déploiement des solutions RBAC natives, vous devrez peut-être impliquer la consultation des ressources pour développer votre solution. Vous devez soigneusement comparer les coûts prévus pour une solution personnalisée avec les coûts de déploiement d’une solution « out-of-box », en particulier si votre budget est limité.  
2. Composition de l’environnement informatique : Si votre environnement se compose principalement de systèmes de Windows, ou si vous exploitez déjà Active Directory pour la gestion des comptes et les systèmes non Windows, des solutions personnalisées natives peuvent fournir la solution optimale pour vos besoins. Si votre infrastructure contient de nombreux systèmes qui n’exécutent pas Windows et ne sont pas gérés par Active Directory, vous devrez peut-être envisager les options pour la gestion des systèmes non Windows séparément à partir de l’environnement Active Directory.  
3. Modèle de privilèges dans la solution : Si un produit s’appuie sur le placement de ses comptes de service dans des groupes disposant de privilèges élevés dans Active Directory et n’offre pas les options qui ne nécessitent pas d’un privilège excessif accordées au logiciel RBAC, vous n’avez pas vraiment réduit votre attaque Active Directory aire de conception vous avez uniquement modifié la composition des groupes plus privilégiés dans le répertoire. Sauf si un fournisseur de l’application peut fournir des contrôles pour les comptes de service permettant de réduire la probabilité des comptes compromis et utilisé à des fins malveillantes, vous souhaiterez envisager d’autres options.  

### <a name="privileged-identity-management"></a>Privileged Identity Management

Gestion des identités (PIM), parfois appelée gestion des comptes privilégiés (PAM) ou gestion des informations d’identification privilégiées (PCM) est la conception, la construction, et la mise en œuvre des approches pour la gestion privilégié comptes dans privilégiées votre infrastructure. En règle générale, PIM fournit des mécanismes par lequel comptes bénéficient de droits temporaires et autorisations requises pour effectuer la build-ou-saut de résoudre des fonctions, plutôt que de laisser les privilèges définitivement attachés aux comptes. Si la fonctionnalité PIM est créée manuellement ou est implémentée via le déploiement de logiciels tiers un ou plusieurs des fonctionnalités suivantes sont disponible :  
  
- Informations d’identification « coffres », où les mots de passe pour les comptes privilégiés sont « extrait » attribués un mot de passe initial, puis « archivés » lorsque les activités sont terminées, moment auquel les mots de passe sont réinitialisés à nouveau sur les comptes.  
- Pendant une durée limitée des restrictions sur l’utilisation des informations d’identification privilégiées  
- Informations d’identification usage  
- Généré par le flux de travail l’octroi de privilèges avec la surveillance et génération de rapports d’activités effectuées et de suppression automatique des privilèges lorsque les activités sont terminées ou allouées de temps a expiré  
- Remplacement de codées en dur les informations d’identification telles que les noms d’utilisateur et mots de passe dans les scripts avec les interfaces de programmation d’applications (API) qui autorisent les informations d’identification doivent être extraites des coffres-forts en fonction des besoins  
- Gestion automatique des informations d’identification du compte de service  

### <a name="creating-unprivileged-accounts-to-manage-privileged-accounts"></a>Création de comptes non privilégiés pour gérer des comptes privilégiés

Un des défis de gestion des comptes privilégiés est que, par défaut, les comptes qui peuvent gérer les comptes privilégiés et protégés et groupes ont des privilèges élevés et des comptes protégés. Si vous implémentez des solutions RBAC et PIM appropriées pour votre installation de Active Directory, les solutions peuvent inclure des approches qui vous permettent effectivement devez vider l’appartenance des groupes plus privilégiés dans le répertoire, remplir les groupes uniquement temporairement si nécessaire.  

Si vous implémentez natif RBAC et PIM, toutefois, vous devez envisager de créer des comptes qui n’ont aucun privilège et avec la seule fonction de remplissage et le vidage des privilèges des groupes dans Active Directory lorsque nécessaire. [Annexe I : Création de comptes de gestion pour les comptes et groupes dans Active Directory protégés](../../../ad-ds/manage/component-updates/../../../ad-ds/manage/component-updates/Appendix-I--Creating-Management-Accounts-for-Protected-Accounts-and-Groups-in-Active-Directory.md) fournit des instructions détaillées qui vous permettent de créer des comptes à cet effet.  

### <a name="implementing-robust-authentication-controls"></a>L’implémentation de contrôles d’authentification robustes

*La loi numéro Six : Il n’existe réellement une personne out il tente de deviner vos mots de passe.* - [10 lois immuables de l’Administration de la sécurité](https://technet.microsoft.com/library/cc722488.aspx)  

Pass-the-hash et autres attaques de vol d’informations d’identification ne sont pas spécifiques aux systèmes d’exploitation de Windows, ni qu’ils sont de nouveau. La première attaque pass-the-hash a été créée en 1997. Historiquement, toutefois, ces attaques requis des outils personnalisés ont été signifies dans leurs chances de succès et requis aux attaquants d’avoir un niveau relativement élevé de compétence. L’introduction des outils disponibles gratuitement, facile à utiliser qui extrait des informations d’identification en mode natif a entraîné une augmentation exponentielle du nombre et le succès des attaques de vol d’informations d’identification de ces dernières années. Toutefois, les attaques contre le vol d’informations d’identification sont en aucun cas les mécanismes uniquement par lequel les informations d’identification sont ciblées et compromises.  

Bien que vous devez implémenter des contrôles pour vous aider à vous protéger contre les attaques de vol d’informations d’identification, vous devez également identifier les comptes dans votre environnement qui sont plus susceptibles d’être la cible d’attaquants et implémenter des contrôles d’authentification robustes pour ceux comptes. Si vos comptes plus privilégiés sont l’authentification de facteur telles que les noms d’utilisateur et mots de passe (les deux sont « quelque chose que vous connaissez, » qui est un facteur d’authentification), ces comptes sont faiblement protégés. Une personne malveillante a besoin que connaissance du nom d’utilisateur et connaissance du mot de passe associé au compte et les attaques pass-the-hash ne doivent pas l’attaquant peut authentifier l’utilisateur pour les systèmes qui acceptent les informations d’identification d’un facteur unique.  

Bien que l’implémentation de l’authentification multifacteur ne vous protège pas contre les attaques pass-the-hash, implémentez l’authentification multifacteur en combinaison avec des systèmes protégés peuvent. Plus d’informations sur l’implémentation des systèmes protégés [implémentation de sécuriser les ordinateurs hôtes d’administration](../../../ad-ds/plan/security-best-practices/Implementing-Secure-Administrative-Hosts.md), et options d’authentification sont décrits dans les sections suivantes.  

#### <a name="general-authentication-controls"></a>Contrôles d’authentification général

Si vous n’avez pas déjà implémenté l’authentification multifacteur telles que des cartes à puce, effectuez cette opération. Cartes à puce implémentent la protection matérielle des clés privées dans une paire de clés publique / privée, empêchant la clé privée d’un utilisateur d’être accessible ou utilisée, sauf si l’utilisateur présente le bon code confidentiel, code secret ou un identificateur biométrique à la carte à puce. Même si le code confidentiel ou le mot de passe d’un utilisateur est intercepté par un enregistreur de frappe sur un ordinateur compromis, un attaquant puisse réutiliser le code confidentiel ou mot de passe, la carte doit également être physiquement présente.

Dans les cas dans lesquels les mots de passe longs et complexes se sont avérés difficiles à implémenter en raison de la résistance des utilisateurs, les cartes à puce fournissent un mécanisme par lequel les utilisateurs peuvent implémenter relativement simple des codes confidentiels ou secrets sans les informations d’identification soient exposées par force brute ou tables arc-en-ciel. Codes confidentiels de carte à puce ne sont pas stockés dans Active Directory ou dans des bases de données SAM locales, bien que les hachages d’informations d’identification peuvent encore être stockés dans la mémoire de processus LSASS protégés sur les ordinateurs sur lesquels les cartes à puce ont été utilisés pour l’authentification.  

#### <a name="additional-controls-for-vip-accounts"></a>Contrôles supplémentaires pour les comptes d’adresse IP virtuelle

Un autre avantage de l’implémentation de cartes à puce ou autres mécanismes d’authentification par certificat est la possibilité de tirer parti d’Assurance du mécanisme d’authentification pour protéger les données sensibles qui sont accessibles aux utilisateurs de l’adresse IP virtuelle. Assurance du mécanisme d’authentification est disponible dans les domaines dans lesquels le niveau fonctionnel est Windows Server 2012 ou Windows Server 2008 R2. Lorsqu’il est activé, l’Assurance du mécanisme d’authentification ajoute une appartenance au groupe de global désignés par l’administrateur à un jeton d’utilisateur Kerberos lorsque les informations d’identification sont authentifiées au cours de l’ouverture de session à l’aide d’une méthode d’ouverture de session basée sur le certificat.  

Cela rend possible pour les administrateurs de ressources contrôler l’accès aux ressources, telles que des fichiers, dossiers et des imprimantes, selon si l’utilisateur se connecte à l’aide d’une méthode d’ouverture de session basée sur certificat, en plus du type de certificat utilisé. Par exemple, lorsqu’un utilisateur ouvre une session à l’aide d’une carte à puce, l’accès utilisateur aux ressources sur le réseau peut être spécifiée en tant que différents à partir de l’accès est lorsque l’utilisateur n’utilise pas d’une carte à puce (autrement dit, lorsque l’utilisateur ouvre une session en entrant un nom d’utilisateur et le mot de passe). Pour plus d’informations sur l’Assurance du mécanisme d’authentification, consultez le [Assurance du mécanisme d’authentification pour les services AD DS dans le Guide pas à pas de Windows Server 2008 R2](https://technet.microsoft.com/library/dd378897.aspx).  

#### <a name="configuring-privileged-account-authentication"></a>Configuration de l’authentification de compte privilégié

Dans Active Directory pour tous les comptes d’administration, vous devez activer le **nécessitent une carte à puce pour l’ouverture de session interactive** attribut et l’audit des modifications apportées à (au minimum), tous les attributs sur le **compte** pour l’onglet le compte (par exemple, cn, nom, sAMAccountName, userPrincipalName et userAccountControl) les objets utilisateur administratif.  

Bien que la configuration du **nécessitent une carte à puce pour l’ouverture de session interactive** sur les comptes réinitialise le mot de passe à une valeur aléatoire de 120 caractères et nécessite des cartes à puce pour les ouvertures de session interactive, le peut attribut toujours être remplacées par utilisateurs disposant d’autorisations qui leur permettent de modifier les mots de passe sur les comptes et les comptes peuvent ensuite servir à établir des connexions non interactives avec uniquement le nom d’utilisateur et mot de passe.  

Dans d’autres cas, selon la configuration de comptes dans Active Directory et le certificat de paramètres dans les Services de certificats Active Directory (AD CS) ou une infrastructure à clé publique par des tiers, le nom d’utilisateur Principal (UPN) pour les attributs d’administration ou les comptes d’adresse IP virtuelle peuvent être ciblés pour un type spécifique d’attaque, comme décrit ici.  

##### <a name="upn-hijacking-for-certificate-spoofing"></a>Détournement UPN pour l’usurpation d’identité du certificat

Bien qu’une discussion détaillée des attaques contre des infrastructures à clé publiques (PKI) est en dehors de la portée de ce document, les attaques contre les infrastructures à clé publique publiques et privées ont augmenté de manière exponentielle depuis 2008. Violations d’infrastructures à clé publique publiques ont été largement rendu public, mais les attaques contre PKI interne d’une organisation sont peut-être encore plus prolifiques. Une telle attaque s’appuie sur Active Directory et des certificats pour permettre à un attaquant d’usurper les informations d’identification d’autres comptes d’une manière qui peuvent être difficiles à détecter.  

Lorsqu’un certificat est présenté pour l’authentification à un système joint au domaine, le contenu de l’objet ou l’attribut de nom SAN (Subject Alternative) dans le certificat est utilisé pour mapper le certificat à un objet utilisateur dans Active Directory. Selon le type de certificat et comment il est construit, l’attribut d’objet dans un certificat contient généralement un nom d’utilisateur commun (CN), comme illustré dans la capture d’écran suivante.  

![modèles d’administrateur privilège minimum](media/Implementing-Least-Privilege-Administrative-Models/SAD_4.gif)  

Par défaut, Active Directory construit CN de l’utilisateur en concaténant le nom du compte premier + "« + nom de famille. Toutefois, les composants CN des objets utilisateur dans Active Directory ne sont pas nécessaires ou uniques, et déplacement d’un compte d’utilisateur vers un autre emplacement dans le répertoire modifie le nom du compte unique (DN), qui est le chemin d’accès complet à l’objet dans le répertoire, comme indiqué dans le volet inférieur de la capture d’écran précédente.  

Étant donné que les noms de sujet de certificat ne sont pas forcément être statiques ou unique, le contenu de l’autre nom de sujet est souvent utilisé pour localiser l’objet utilisateur dans Active Directory. L’attribut SAN des certificats émis pour les utilisateurs à partir d’autorités de certification d’entreprise (autorités de certification intégrées à Active Directory) contient généralement l’adresse l’utilisateur UPN ou courrier électronique. Étant donné que l’UPN sont garantis être unique dans une forêt AD DS, la recherche d’un objet utilisateur par UPN est communément exécutée dans le cadre de l’authentification, avec ou sans certificats impliqués dans le processus d’authentification.  

L’utilisation de noms UPN dans les attributs SAN dans les certificats d’authentification peut être exploitée par les pirates d’obtenir des certificats frauduleux. Si un attaquant a compromis un compte qui a la possibilité de lire et écrire des noms d’utilisateurs principaux sur des objets utilisateur, l’attaque est implémentée comme suit :  

L’attribut UPN sur un objet utilisateur (par exemple, un utilisateur de l’adresse IP virtuelle) est temporairement modifié sur une autre valeur. L’attribut de nom de compte SAM et CN peuvent également être modifié pour l’instant, bien que cela n’est généralement pas nécessaire pour les raisons décrites précédemment.  

Lorsque l’attribut UPN du compte cible a été modifié, un compte d’utilisateur obsolètes, activé ou l’attribut UPN d’un compte d’utilisateur nouvellement créé est modifié à la valeur qui a été affectée à l’origine pour le compte cible. Comptes d’utilisateur obsolètes, activé sont des comptes qui n’ont pas été consignés pendant de longues périodes de temps, mais n’ont pas été désactivées. Ils sont ciblés par les pirates souhaitant pour « masquer au su » pour les raisons suivantes :  

1. Étant donné que le compte est activé, mais n’a pas été utilisé récemment, en utilisant le compte est peu probable pour déclencher des alertes la façon dont l’activation d’un compte d’utilisateur désactivé peut.  
2. Utilisation d’un compte existant ne nécessite pas la création d’un nouveau compte d’utilisateur qui peut être remarqué par personnel d’administration.  
3. Comptes d’utilisateur obsolètes sont toujours activées sont généralement des membres de différents groupes de sécurité et ont accès aux ressources sur le réseau, ce qui simplifie l’accès et de « fusion » pour une population d’utilisateurs existants.  

Le compte d’utilisateur sur lequel la cible UPN a été configurée est utilisé pour demander un ou plusieurs certificats à partir des Services de certificats Active Directory.  

Lorsque les certificats ont été obtenues pour le compte du pirate, l’UPN sur le compte « nouveau » et le compte cible sont retournés à leurs valeurs d’origine.  

L’attaquant a désormais un ou plusieurs certificats qui peuvent être présentés pour l’authentification aux ressources et aux applications comme si l’utilisateur est l’utilisateur de l’adresse IP virtuelle dont le compte a été modifié temporairement. Bien que la description complète de toutes les méthodes dans lequel les certificats et infrastructure à clé publique peuvent être ciblés par des attaquants est en dehors de la portée de ce document, cette attaque est fourni pour illustrer pourquoi vous devez surveiller privilégiés et des comptes d’adresse IP virtuelle dans AD DS pour les modifications , en particulier pour les modifications apportées à tous les attributs sur le **compte** onglet pour le compte (par exemple, cn, nom, sAMAccountName, userPrincipalName et userAccountControl). Outre la surveillance des comptes, vous devez limiter qui peut modifier les comptes à faibles un ensemble d’utilisateurs administratifs que possible. De même, les comptes d’utilisateurs administratifs doivent être protégés et surveillés pour les modifications non autorisées.  
