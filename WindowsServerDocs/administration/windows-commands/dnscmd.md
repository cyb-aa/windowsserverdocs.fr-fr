---
title: dnscmd
description: La rubrique de référence pour dnscmd, qui est une interface de ligne de commande pour la gestion des serveurs DNS.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: e7f31cb5-a426-4e25-b714-88712b8defd5
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 8f958888138917e6d0eb3e377a6dcb3ce3d06df2
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/01/2020
ms.locfileid: "82720820"
---
# <a name="dnscmd"></a>Dnscmd

> S’applique à : Windows Server (canal semi-annuel), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Interface de ligne de commande pour la gestion des serveurs DNS. Cet utilitaire est utile pour le script des fichiers de commandes pour faciliter l’automatisation des tâches de gestion DNS de routine, ou pour effectuer une installation et une configuration sans assistance simples de nouveaux serveurs DNS sur votre réseau.  

## <a name="syntax"></a>Syntaxe  
```  
dnscmd <ServerName> <command> [<command parameters>]  
```  

### <a name="parameters"></a>Paramètres  

|  Paramètre   |     Description      |
|--------------|--------------------------------------------------------------|
| `<ServerName>` | L’adresse IP ou le nom d’hôte d’un serveur DNS distant ou local. |


## <a name="commands"></a>Commandes  

|   Commande   |     Description      |
| ----------- | -------------------- |
| [/AgeAllRecords dnscmd](#BKMK_1) | Définit l’heure actuelle de tous les horodatages dans une zone ou un nœud. |
| [/ClearCache dnscmd](#BKMK_2)  | Efface le cache du serveur DNS. |
| [dnscmd/config](#BKMK_3) | Réinitialise la configuration du serveur DNS ou de la zone. |
| [/createbuiltindirectorypartitions dnscmd](#BKMK_4) | Crée les partitions d’annuaire d’applications DNS intégrées. |
| [/createdirectorypartition dnscmd](#BKMK_5) | Crée une partition d’annuaire d’applications DNS. |
| [/deletedirectorypartition dnscmd](#BKMK_6) | Supprime une partition de l’annuaire d’applications DNS. |
| [/directorypartitioninfo dnscmd](#BKMK_7) | répertorie des informations sur une partition d’annuaire d’applications DNS. |
| [/enlistdirectorypartition dnscmd](#BKMK_8) | Ajoute un serveur DNS au jeu de réplication d’une partition d’annuaire d’applications DNS. |
| [/EnumDirectoryPartitions dnscmd](#BKMK_9) | Répertorie les partitions de l’annuaire d’applications DNS d’un serveur. |
| [/enumrecords dnscmd](#BKMK_10) | Répertorie les enregistrements de ressources dans une zone. |
| [/enumzones dnscmd](#BKMK_11) | Répertorie les zones hébergées par le serveur spécifié. |
| [/ExportSettings dnscmd](#BKMK_25a) | Écrit les informations de configuration du serveur dans un fichier texte. |
| [dnscmd/info](#BKMK_12) | Obtient des informations sur le serveur. |
| [/ipvalidate dnscmd](#BKMK_29a) | Valide les serveurs DNS distants. |
| [/nodedelete dnscmd](#BKMK_13)  | Supprime tous les enregistrements d’un nœud dans une zone. |
| [/recordadd dnscmd](#BKMK_14)  | Ajoute un enregistrement de ressource à une zone. |
| [/recorddelete dnscmd](#BKMK_15) | Supprime un enregistrement de ressource d’une zone. |
| [/ResetForwarders dnscmd](#BKMK_16) | Définit des serveurs DNS pour transférer des requêtes récursives. |
| [/ResetListenAddresses dnscmd](#BKMK_17) | Définit des adresses IP de serveur pour traiter les requêtes DNS. |
| [/StartScavenging dnscmd](#BKMK_18) | Lance le nettoyage du serveur. |
| [/Statistics dnscmd](#BKMK_19) | Interroge ou efface les données de statistiques du serveur. |
| [/unenlistdirectorypartition dnscmd](#BKMK_20) | supprime un serveur DNS du jeu de réplication d’une partition d’annuaire d’applications DNS. |
| [/writebackfiles dnscmd](#BKMK_21) | Enregistre toutes les données de la zone ou de l’indication racine dans un fichier. |
| [/ZoneAdd dnscmd](#BKMK_22) | Crée une nouvelle zone sur le serveur DNS. |
| [/zonechangedirectorypartition dnscmd](#BKMK_23) | Modifie la partition d’annuaire sur laquelle réside une zone. |
| [/zonedelete dnscmd](#BKMK_24) | Supprime une zone du serveur DNS. |
| [/zoneexport dnscmd](#BKMK_25) | Écrit les enregistrements de ressources d’une zone dans un fichier texte. |
| [/zoneinfo dnscmd](#BKMK_26) | Affiche les informations de zone. |
| [/zonepause dnscmd](#BKMK_27) | Suspend une zone. |
| [/zoneprint dnscmd](#BKMK_28) | Affiche tous les enregistrements de la zone. |
| [/zonerefresh dnscmd](#BKMK_30) | Force une actualisation de la zone secondaire à partir de la zone maître. |
| [/zonereload dnscmd](#BKMK_31) | Recharge une zone à partir de sa base de données. |
| [/ZoneResetMasters dnscmd](#BKMK_32) | Modifie les serveurs maîtres qui fournissent les informations de transfert de zone à une zone secondaire. |
| [/ZoneResetScavengeServers dnscmd](#BKMK_33) | Modifie les serveurs qui peuvent nettoyer une zone. |
| [/zoneresetsecondaries dnscmd](#BKMK_34) | Réinitialise les informations secondaires pour une zone. |
| [/ZoneResetType dnscmd](#BKMK_29) | Modifie le type de zone. |
| [/zoneresume dnscmd](#BKMK_35) | Reprend une zone. |
| [/zoneupdatefromds dnscmd](#BKMK_36) | Met à jour une zone intégrée à Active Directory avec les données des services de domaine Active Directory (AD DS). |
| [/zonewriteback dnscmd](#BKMK_37) | Enregistre les données de zone dans un fichier. |

### <a name="dnscmd-ageallrecords"></a><a name=BKMK_1></a>/AgeAllRecords dnscmd
  
Définit l’heure actuelle d’un horodatage sur les enregistrements de ressource au niveau d’une zone ou d’un nœud spécifié sur un serveur DNS. 
 
#### <a name="syntax"></a>Syntaxe

```  
dnscmd [<ServerName>] /ageallrecords <ZoneName>[<NodeName>] | [/tree]|[/f]  
```  

##### <a name="parameters"></a>Paramètres

| Partameter | Description |
| ---------- | ----------- |
| `<ServerName>` | Spécifie le serveur DNS que l’administrateur envisage de gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé. |
| `<ZoneName>` | Spécifie le nom de domaine complet de la zone. |
| `<NodeName>` | Spécifie un nœud ou une sous-arborescence spécifique dans la zone. **Nodename** spécifie le nœud ou la sous-arborescence dans la zone à l’aide des éléments suivants :<p>-@ pour la zone racine ou le nom de domaine complet<p>-Nom de domaine complet d’un nœud (nom avec un point (.) à la fin)<p>-Étiquette unique pour le nom relatif à la racine de la zone. |
| `/tree` | Spécifie que tous les nœuds enfants reçoivent également l’horodatage. |
| `/f` | Exécute la commande sans demander de confirmation. |

#### <a name="remarks"></a>Notes 

- La commande **AgeAllRecords** est destinée à assurer la compatibilité descendante entre la version actuelle de DNS et les versions antérieures de DNS, dans lesquelles le vieillissement et le nettoyage ne sont pas pris en charge. Elle ajoute un horodatage avec l’heure actuelle aux enregistrements de ressources qui n’ont pas d’horodatage et définit l’heure actuelle sur les enregistrements de ressources qui ont un horodatage.

- Le nettoyage des enregistrements ne se produit que si les enregistrements sont horodatés. Les enregistrements de ressources de serveur de noms (NS), les enregistrements de ressources de début d’autorité (SOA) et les enregistrements de ressources WINS (Windows Internet Name Service) ne sont pas inclus dans le processus de nettoyage, et ils ne sont pas horodatés, même lorsque la commande **AgeAllRecords** s’exécute.

- Cette commande échoue, sauf si le nettoyage est activé pour le serveur DNS et la zone. Pour plus d’informations sur l’activation du nettoyage pour la zone, consultez le paramètre **Aging** sous la syntaxe au niveau de la zone dans la commande <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/>-L’ajout d’un horodatage aux enregistrements de ressources DNS les rend incompatibles avec les serveurs DNS qui s’exécutent sur des systèmes d’exploitation autres que Windows 2000, Windows XP ou Windows Server 2003. Un horodatage que vous ajoutez à l’aide de la commande **AgeAllRecords** ne peut pas être inversé.<br/>-Si aucun des paramètres facultatifs n’est spécifié, la commande retourne tous les enregistrements de ressource au niveau du nœud spécifié. Si une valeur est spécifiée pour au moins un des paramètres facultatifs, **dnscmd** énumère uniquement les enregistrements de ressources qui correspondent à la valeur ou aux valeurs spécifiées dans le ou les paramètres facultatifs.<br/># # # # Exemple<br/>Voir <a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[exemple 1 : définir l’heure actuelle sur un horodatage sur les enregistrements de ressources](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>exemple 1 : définir l’heure actuelle d’un horodatage sur des enregistrements</a>de ressources.<br/>### <a name=BKMK_2></a>/ClearCache dnscmd<br/>Efface la mémoire cache DNS des enregistrements de ressource sur le serveur DNS spécifié.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /clearcache</code><br/>Paramètres # # # # #<br/><ServerName><br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /clearcache</code><br/>### <a name=BKMK_3></a>dnscmd/config<br/>modifie les valeurs dans le registre pour le serveur DNS et les zones individuelles. Accepte les paramètres au niveau du serveur et les paramètres au niveau de la zone.<br/>&gt; [!CAUTION]<br/>&gt;Ne modifiez pas le Registre directement, sauf si vous n’avez pas d’autre solution. L’éditeur du Registre contourne les protections standard, en autorisant les paramètres qui peuvent dégrader les performances, endommager votre système, voire vous obliger à réinstaller Windows. Vous pouvez modifier en toute sécurité la plupart des paramètres du Registre à l’aide des programmes du panneau de configuration ou de la console MMC (Microsoft Management Console). Si vous devez modifier le Registre directement, sauvegardez-le en premier. Pour plus d’informations, consultez l’aide de l’éditeur du Registre.<br/># # # # Syntaxe au niveau du serveur<br/><code>dnscmd [&lt;ServerName&gt;] /config &lt;Parameter&gt;</code><br/># # # # dnscmd/config<br/>Modifie la configuration du serveur spécifié.<br/>Paramètres # # # # #<br/><ServerName><br/>Spécifie le serveur DNS que vous envisagez de gérer, représenté par la syntaxe de l’ordinateur local, l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/><Parameter><br/>Spécifiez un paramètre et, en guise d’option, une valeur. Les valeurs de paramètre utilisent la syntaxe suivante : *paramètre* [*valeur*]<br/>Les valeurs de paramètre suivantes sont décrites dans le reste de cette section :<br/>-   **/addressanswerlimit**<br/>-   **/bindsecondaries**<br/>-   **/bootmethod**<br/>-   **/defaultagingstate**<br/>-   **/defaultnorefreshinterval**<br/>-   **/defaultrefreshinterval**<br/>-   **/disableautoreversezones**<br/>-   **/disablensrecordsautocreation**<br/>-   **/dspollinginterval**<br/>-   **/dstombstoneinterval**<br/>-   **/ednscachetimeout**<br/>-   **/enablednsprobes**<br/>-   **/enablednssec**<br/>-   **/enableglobalnamessupport**<br/>-   **/enableglobalqueryblocklist**<br/>-   **/eventloglevel**<br/>-   **/forwarddelegations**<br/>-   **/forwardingtimeout**<br/>-   **/globalnamesqueryorder**<br/>-   **/globalqueryblocklist**<br/>-   **/isslave**<br/>-   **/localnetpriority**<br/>-   **/logfilemaxsize**<br/>-   **/LogFilePath**<br/>-   **/logipfilterlist**<br/>-   **/loglevel**<br/>-   **/maxcachesize**<br/>-   **/maxcachettl**<br/>-   **/namecheckflag**<br/>-   **/notcp**<br/>-   **/norecursion**<br/>-   **/recursionretry**<br/>-   **/recursiontimeout**<br/>-   **/roundrobin**<br/>-   **/rpcprotocol**<br/>-   **/scavenginginterval**<br/>-   **/secureresponses**<br/>-   **/sendport**<br/>-   **/strictfileparsing**<br/>-   **/updateoptions**<br/>-   **/writeauthorityns**<br/>-   **/xfrconnecttimeout**<br/>**/addressanswerlimit [0 | 5-28]**<br/>Spécifie le nombre maximal d’enregistrements d’hôte qu’un serveur DNS peut envoyer en réponse à une requête. La valeur peut être égale à zéro (0) ou être comprise dans la plage de 5 à 28 enregistrements. La valeur par défaut est zéro (0).<br/>**/bindsecondaries [0 | 1]**<br/>modifie le format du transfert de zone afin qu’il puisse obtenir une compression et une efficacité maximales. Toutefois, ce format n’est pas compatible avec les versions antérieures du domaine Berkeley Internet Name (BIND).<br/>**0**<br/>Utilise la compression maximale. Ce format est compatible avec les versions de liaison 4.9.4 et versions ultérieures uniquement.<br/>**1**<br/>Envoie un seul enregistrement de ressource par message aux serveurs DNS non-Microsoft. Ce format est compatible avec les versions BIND antérieures à 4.9.4. Il s'agit du paramètre par défaut.<br/>**/bootmethod [0 | 1 | 2 | 3]**<br/>Détermine la source à partir de laquelle le serveur DNS obtient ses informations de configuration.<br/>**0**<br/>Efface la source des informations de configuration.<br/>**1**<br/>Charge à partir du fichier de liaison qui se trouve dans le répertoire DNS, qui est%systemroot%\System32\DNS par défaut.<br/>**2**<br/>Charge à partir du Registre.<br/>**3**<br/>Charge à partir de AD DS et du Registre. Il s'agit du paramètre par défaut.<br/>**/DefaultAgingState [0 | 1]**<br/>Détermine si la fonctionnalité de nettoyage DNS est activée par défaut sur les zones nouvellement créées.<br/>**0**<br/>Désactive le nettoyage. Il s'agit du paramètre par défaut.<br/>**1**<br/>Active le nettoyage.<br/>**/DefaultNoRefreshInterval [0x1-0xFFFFFFFF | 0xA8]**<br/>Définit une période pendant laquelle aucune actualisation n’est acceptée pour les enregistrements mis à jour dynamiquement. Les zones sur le serveur héritent automatiquement de cette valeur. Pour modifier la valeur par défaut, tapez une valeur dans la plage **0x1-0xFFFFFFFF**. La valeur par défaut du serveur est **0xA8**.<br/>**/DefaultRefreshInterval [0x1-0xFFFFFFFF | 0xA8]**<br/>Définit un laps de temps autorisé pour les mises à jour dynamiques des enregistrements DNS. Les zones sur le serveur héritent automatiquement de cette valeur. Pour modifier la valeur par défaut, tapez une valeur dans la plage **0x1-0xFFFFFFFF**. La valeur par défaut du serveur est **0xA8**.<br/>**/disableautoreversezones [0 | 1]**<br/>Active ou désactive la création automatique de zones de recherche inversée. Les zones de recherche inversée permettent de résoudre les adresses IP (Internet Protocol) en noms de domaine DNS.<br/>**0**<br/>Active la création automatique de zones de recherche inversée. Il s'agit du paramètre par défaut.<br/>**1**<br/>Désactive la création automatique de zones de recherche inversée.<br/>**/DisableNSRecordsAutoCreation {0 | 1}**<br/>Spécifie si le serveur DNS crée automatiquement des enregistrements de ressource de serveur de noms (NS) pour les zones qu’il héberge.<br/>**0**<br/>Crée automatiquement des enregistrements de ressources de serveur de noms (NS) pour les zones hébergées par le serveur DNS.<br/>**1**<br/>Ne crée pas automatiquement les enregistrements de ressources de serveur de noms (NS) pour les zones hébergées par le serveur DNS.<br/>**/dspollinginterval 0-30**<br/>Spécifie la fréquence à laquelle le serveur DNS interroge AD DS des modifications dans les zones intégrées à Active Directory.<br/>**/dstombstoneinterval [1-30]**<br/>Durée en secondes pendant laquelle conserver les enregistrements supprimés dans AD DS.<br/>**/ednscachetimeout [<seconds>]**<br/>Spécifie le nombre de secondes pendant lesquelles les informations de DNS étendu (EDNS) sont mises en cache. La valeur minimale est 3600 et la valeur maximale est 15 724 800. La valeur par défaut est 604 800 secondes (une semaine).<br/>**/enableednsprobes {0 | 1}**<br/>Active ou désactive le serveur pour sonder d’autres serveurs afin de déterminer s’ils prennent en charge EDNS.<br/>**0**<br/>Désactive la prise en charge active des sondes EDNS.<br/>**1**<br/>Active la prise en charge active des sondes EDNS.<br/>**/EnableDnsSec {0 | 1}**<br/>Active ou désactive la prise en charge des extensions de sécurité DNS (DNSSEC).<br/>**0**<br/>Désactive DNSSEC.<br/>**1**<br/>Active DNSSEC.<br/>**/enableglobalnamessupport {0 | 1}**<br/>Active ou désactive la prise en charge de la zone GlobalNames. La zone GlobalNames prend en charge la résolution des noms DNS en une partie dans une forêt.<br/>**0**<br/>Désactive la prise en charge de la zone GlobalNames. Lorsque vous affectez la valeur **0**à cette commande, le service serveur DNS ne résout pas les noms en une partie dans la zone GlobalNames.<br/>**1**<br/>Active la prise en charge de la zone GlobalNames. Lorsque vous affectez la valeur **1**à cette commande, le service serveur DNS résout les noms en une partie dans la zone GlobalNames.<br/>**/enableglobalqueryblocklist {0 | 1}**<br/>Active ou désactive la prise en charge de la liste rouge de requêtes globale qui bloque la résolution de noms pour les noms de la liste. Le service serveur DNS crée et active la liste rouge de requêtes globale par défaut lorsque le service démarre la première fois. Pour afficher la liste rouge de requêtes globale actuelle, utilisez la commande **dnscmd/info/GlobalQueryBlockList** .<br/>**0**<br/>Désactive la prise en charge de la liste rouge de requêtes globale. Lorsque vous affectez la valeur **0**à cette commande, le service serveur DNS répond aux requêtes de noms figurant dans la liste rouge.<br/>**1**<br/>Active la prise en charge de la liste rouge de requêtes globale. Lorsque vous affectez la valeur **1**à cette commande, le service serveur DNS ne répond pas aux requêtes de noms figurant dans la liste rouge.<br/>**/EventLogLevel [0 | 1 | 2 | 4]**<br/>Détermine les événements qui sont consignés dans le journal du serveur DNS dans observateur d’événements.<br/>**0**<br/>N’enregistre aucun événement.<br/>**1**<br/>Seules les erreurs sont consignées dans le journal.<br/>**2**<br/>Journalise uniquement les erreurs et les avertissements.<br/>**4**<br/>Journalise les erreurs, les avertissements et les événements d’information. Il s'agit du paramètre par défaut.<br/>**/forwarddelegations [0 | 1]**<br/>Détermine la façon dont le serveur DNS gère une requête pour une sous-zone déléguée. Ces requêtes peuvent être envoyées à la sous-zone référencée dans la requête ou à la liste des redirecteurs nommée pour le serveur DNS. Les entrées dans le paramètre sont utilisées uniquement lorsque le transfert est activé.<br/>**0**<br/>Envoie automatiquement des requêtes qui font référence à des sous-zones déléguées dans la sous-zone appropriée. Il s'agit du paramètre par défaut.<br/>**1**<br/>transfère les requêtes qui font référence à la sous-zone déléguée aux redirecteurs existants.<br/>**/forwardingtimeout [<seconds>]**<br/>Détermine le nombre de secondes (0x1-0xFFFFFFFF) pendant lequel un serveur DNS attend qu’un redirecteur réponde avant d’essayer un autre redirecteur. La valeur par défaut est **0x5**, qui est de 5 secondes.<br/>**/globalneamesqueryorder** {**0 | 1**}<br/>Spécifie si le service serveur DNS recherche d’abord dans la zone GlobalNames ou dans les zones locales lorsqu’il résout des noms.<br/>**0**<br/>Le service serveur DNS tente de résoudre les noms en interrogeant la zone GlobalNames avant d’interroger les zones pour lesquelles elle fait autorité.<br/>**1**<br/>Le service serveur DNS tente de résoudre les noms en interrogeant les zones pour lesquelles il fait autorité avant d’interroger la zone GlobalNames.<br/>**/GlobalQueryBlockList [<name> [<name>]...]**<br/>remplace la liste rouge de requêtes globale actuelle par une liste des noms que vous spécifiez. Si vous ne spécifiez pas de nom, cette commande efface la liste rouge. Par défaut, la liste rouge de requêtes globale contient les éléments suivants :<br/>-ISATAP<br/>-WPAD<br/>Le service serveur DNS peut supprimer l’un ou l’autre de ces noms, ou les deux, lorsqu’il démarre pour la première fois, s’il trouve ces noms dans une zone existante.<br/>**/isslave [0 | 1]**<br/>Détermine la manière dont le serveur DNS répond lorsque les requêtes qu’il transfère ne reçoivent aucune réponse.<br/>**0**<br/>Spécifie que le serveur DNS n’est pas subordonné (également appelé *esclave*). Si le redirecteur ne répond pas, le serveur DNS tente de résoudre lui-même la requête. Il s'agit du paramètre par défaut.<br/>**1**<br/>Spécifie que le serveur DNS est un subordonné. Si le redirecteur ne répond pas, le serveur DNS met fin à la recherche et envoie un message d’échec au programme de résolution.<br/>**/localnetpriority [0 | 1]**<br/>Détermine l’ordre dans lequel les enregistrements d’hôte sont retournés lorsque le serveur DNS a plusieurs enregistrements d’hôte pour le même nom.<br/>**0**<br/>Retourne les enregistrements dans l’ordre dans lequel ils sont répertoriés dans la base de données DNS.<br/>**1**<br/>Retourne d’abord les enregistrements qui ont des adresses réseau IP similaires. Il s'agit du paramètre par défaut.<br/>**/LogFileMaxSize [<size>]**<br/>Spécifie la taille maximale en octets (0x10000-0xFFFFFFFF) du fichier DNS. log. Lorsque le fichier atteint sa taille maximale, DNS remplace les événements les plus anciens. La taille par défaut est 0x400000, qui est de 4 mégaoctets (Mo).<br/>**/LogFilePath [&lt;chemin d’accès&gt;+ LogFileName]**<br/>Spécifie le chemin d’accès du fichier DNS. log. Le chemin d’accès par défaut est%systemroot%\System32\Dns\Dns.log. Vous pouvez spécifier un autre chemin d’accès en utilisant le format *path + LogFileName*.<br/>**/logipfilterlist <IPaddress> [,<IPaddress>...]**<br/>Spécifie les paquets qui sont consignés dans le fichier journal de débogage. Les entrées sont une liste d’adresses IP. Seuls les paquets entrants et sortants des adresses IP de la liste sont journalisés.<br/>**/LogLevel [<Eventtype>]**<br/>Détermine les types d’événements qui sont enregistrés dans le fichier DNS. log. Chaque type d’événement est représenté par un nombre hexadécimal. Si vous souhaitez plus d’un événement dans le journal, utilisez l’addition hexadécimale pour ajouter les valeurs, puis entrez la somme.<br/>**0x0**<br/>Le serveur DNS ne crée pas de journal. Il s’agit de l’entrée par défaut.<br/>**0x10**<br/>Journalise les requêtes.<br/>**0x10**<br/>Journalise les notifications.<br/>**0x20**<br/>Journalise les mises à jour.<br/>**0xFE**<br/>Journalise les transactions qui ne sont pas interrogations.<br/>**0x100**<br/>Journalise les transactions de question.<br/>**0x200**<br/>Journalise les réponses.<br/>**0x1000**<br/>Journalise les paquets d’envoi.<br/>**0x2000**<br/>Journalise les paquets reçus.<br/>**0x4000**<br/>Journalise les paquets UDP (User Datagram Protocol).<br/>**0x8000**<br/>Journalise les paquets TCP (Transmission Control Protocol).<br/>**0xFFFF**<br/>Journalise tous les paquets.<br/>**0x10000**<br/>Journalise les transactions d’écriture Active Directory.<br/>**0x20000**<br/>Journalise les transactions de mise à jour Active Directory.<br/>**0x1000000**<br/>Journalise les paquets complets.<br/>**0x80000000**<br/>Journalise les transactions d’écriture.<br/>**/maxcachesize**<br/>Spécifie la taille maximale, en kilo-octets (Ko), du cache de la mémoire du serveur DNS.<br/>**/MaxCacheTtl [<seconds>]**<br/>Détermine le nombre de secondes (0x0-0xFFFFFFFF) pendant lequel un enregistrement est enregistré dans le cache. Si le paramètre **0x0** est utilisé, le serveur DNS ne met pas en cache les enregistrements. Le paramètre par défaut est **0x15180** (86 400 secondes ou 1 jour).<br/>**/MaxNegativeCacheTtl [<seconds>]**<br/>Spécifie le nombre de secondes (0x1-0xFFFFFFFF) qu’une entrée qui enregistre une réponse négative à une requête reste stockée dans le cache DNS. Le paramètre par défaut est **0x384** (900 secondes).<br/>**/namecheckflag [0 | 1 | 2 | 3]**<br/>Spécifie la norme de caractères utilisée lors de la vérification des noms DNS.<br/>**0**<br/>Utilise des caractères ANSI conformes aux RFC (Request for Comments) de l’IETF (Internet Engineering Task Force).<br/>**1**<br/>Utilise des caractères ANSI qui ne sont pas nécessairement conformes aux RFC de l’IETF.<br/>**2**<br/>Utilise des caractères UTF-8 (Multibyte UCS Transformation Format 8). Il s'agit du paramètre par défaut.<br/>**3**<br/>Utilise tous les caractères.<br/>**/NoRecursion [0 | 1]**<br/>Détermine si un serveur DNS effectue une résolution de noms récursive.<br/>**0**<br/>Le serveur DNS effectue une résolution de noms récursive s’il est demandé dans une requête. Il s'agit du paramètre par défaut.<br/>**1**<br/>Le serveur DNS n’effectue pas de résolution de noms récursive.<br/>**/notcp**<br/>Ce paramètre est obsolète et n’a aucun effet dans les versions actuelles de Windows Server.<br/>**/recursionretry [<seconds>]**<br/>Détermine le nombre de secondes (0x1-0xFFFFFFFF) qu’un serveur DNS attend avant de tenter à nouveau de contacter un serveur distant. Le paramètre par défaut est 0x3 (trois secondes). Cette valeur doit être augmentée lorsque la récursivité se produit sur une liaison de réseau étendu (WAN) lente.<br/>**/recursiontimeout [<seconds>]**<br/>Détermine le nombre de secondes (0x1-0xFFFFFFFF) qu’un serveur DNS attend avant de tenter de contacter un serveur distant. Les paramètres vont de **0x1** à **0xFFFFFFFF**. Le paramètre par défaut est **0xF** (15 secondes). Cette valeur doit être augmentée lorsque la récursivité se produit sur une liaison WAN lente.<br/>**/RoundRobin [0 | 1]**<br/>Détermine l’ordre dans lequel les enregistrements d’hôte sont retournés lorsqu’un serveur a plusieurs enregistrements d’hôte pour le même nom.<br/>0<br/>Le serveur DNS n’utilise pas le tourniquet (Round Robin). Au lieu de cela, elle retourne le premier enregistrement à chaque requête.<br/>**1**<br/>Le serveur DNS effectue une rotation entre les enregistrements qu’il retourne du haut vers le bas de la liste des enregistrements correspondants. Il s'agit du paramètre par défaut.<br/>**/RpcProtocol [0x0 | 0x1 | 0X2 | 0x4 | 0xFFFFFFFF]**<br/>Spécifie le protocole que l’appel de procédure distante (RPC) utilise lorsqu’il établit une connexion à partir du serveur DNS.<br/>**0x0**<br/>Désactive RPC pour DNS.<br/>**0x1**<br/>Utilise TCP/IP.<br/>**0x2**<br/>Utilise des canaux nommés.<br/>**0x4**<br/>Utilise l’appel de procédure locale (LPC).<br/>**Égale**<br/>Tous les protocoles. Il s'agit du paramètre par défaut.<br/>**/ScavengingInterval [<hours>]**<br/>Détermine si la fonctionnalité de nettoyage pour le serveur DNS est activée et définit le nombre d’heures (0x0-0xFFFFFFFF) entre les cycles de nettoyage. Le paramètre par défaut est **0x0**, ce qui désactive le nettoyage pour le serveur DNS. Un paramètre supérieur à **0x0** active le nettoyage pour le serveur et définit le nombre d’heures entre les cycles de nettoyage.<br/>**/secureresponses [0 | 1]**<br/>Détermine si DNS filtre les enregistrements enregistrés dans un cache.<br/>**0**<br/>Enregistre toutes les réponses aux requêtes de nom dans un cache. Il s'agit du paramètre par défaut.<br/>**1**<br/>Enregistre uniquement les enregistrements qui appartiennent à la même sous-arborescence DNS dans un cache.<br/>**/SendPort [<port>]**<br/>Spécifie le numéro de port (0x0-0xFFFFFFFF) utilisé par DNS pour envoyer des requêtes récursives à d’autres serveurs DNS. Le paramètre par défaut est **0x0**, ce qui signifie que le numéro de port est sélectionné de façon aléatoire.<br/>**/serverlevelplugindll [<Dllpath>]**<br/>Spécifie le chemin d’accès d’un plug-in personnalisé. Lorsque *DllPath* spécifie le nom de chemin d’accès complet d’un plug-in de serveur DNS valide, le serveur DNS appelle des fonctions dans le plug-in pour résoudre les requêtes de nom qui se trouvent en dehors de l’étendue de toutes les zones hébergées localement. Si le nom d’une requête est en dehors de l’étendue du plug-in, le serveur DNS effectue une résolution de noms à l’aide du transfert ou de la récursivité, comme configuré. Si *DllPath* n’est pas spécifié, le serveur DNS cesse d’utiliser un plug-in personnalisé si un plug-in personnalisé a été configuré précédemment.<br/>**/strictfileparsing [0 | 1]**<br/>Détermine un serveur DNS&#39;comportement lorsqu’il rencontre un enregistrement erroné lors du chargement d’une zone.<br/>**0**<br/>Le serveur DNS continue de charger la zone même si le serveur rencontre un enregistrement erroné. L’erreur est enregistrée dans le journal DNS. Il s'agit du paramètre par défaut.<br/>**1**<br/>Le serveur DNS arrête le chargement de la zone et enregistre l’erreur dans le journal DNS.<br/>**/updateoptions<RecordValue>**<br/>Interdit les mises à jour dynamiques des types d’enregistrements spécifiés. Si vous souhaitez que plus d’un type d’enregistrement soit interdit dans le journal, utilisez l’addition hexadécimale pour ajouter les valeurs, puis entrez la somme.<br/>**0x0**<br/>Ne limite pas les types d’enregistrements.<br/>**0x1**<br/>Exclut les enregistrements de ressources de SOA (Start of Authority).<br/>**0x2**<br/>Exclut les enregistrements de ressources de serveur de noms (NS).<br/>**0x4**<br/>Exclut la délégation des enregistrements de ressources de serveur de noms (NS).<br/>**0x8**<br/>Exclut les enregistrements de l’hôte du serveur.<br/>**0x100**<br/>Au cours de la mise à jour dynamique sécurisée, exclut les enregistrements de ressources de début d’autorité (SOA).<br/>**0x200**<br/>Pendant la mise à jour dynamique sécurisée, exclut les enregistrements de ressources du serveur de noms racine (NS).<br/>**0x30F**<br/>Au cours de la mise à jour dynamique standard, exclut les enregistrements de ressources de serveur de noms (NS), les enregistrements de ressources de SOA (Start of Authority) et les enregistrements d’hôtes de serveur. Pendant la mise à jour dynamique sécurisée, exclut les enregistrements de ressources du serveur de noms racine (NS) et les enregistrements de ressources SOA (Start of Authority). Autorise les délégations et les mises à jour de l’hôte du serveur.<br/>**0x400**<br/>Pendant la mise à jour dynamique sécurisée, exclut les enregistrements de ressources du serveur de noms de délégation (NS).<br/>**0x800**<br/>Pendant la mise à jour dynamique sécurisée, exclut les enregistrements de l’hôte du serveur.<br/>**0x1000000**<br/>Exclut les enregistrements du signataire de la délégation (DS).<br/>**0x80000000**<br/>Désactive la mise à jour dynamique DNS.<br/>**/writeauthorityns [0 | 1]**<br/>Détermine le moment où le serveur DNS écrit les enregistrements de ressource de serveur de noms (NS) dans la section autorité d’une réponse.<br/>**0**<br/>Écrit les enregistrements de ressource de serveur de noms (NS) dans la section autorité des références uniquement. Ce paramètre est conforme à la norme RFC 1034, aux concepts et aux fonctionnalités des noms de domaine, et à RFC 2181, à la spécification DNS. Il s'agit du paramètre par défaut.<br/>**1**<br/>Écrit les enregistrements de ressource de serveur de noms (NS) dans la section autorité de toutes les réponses faisant autorité réussies.<br/>**/xfrconnecttimeout [<seconds>]**<br/>Détermine le nombre de secondes (0x0-0xFFFFFFFF) qu’un serveur DNS principal attend une réponse de transfert de son serveur secondaire. La valeur par défaut est **0x1E** (30 secondes). Après l’expiration de la valeur du délai d’attente, la connexion est interrompue.<br/># # # # Syntaxe au niveau de la zone<br/><code>dnscmd /config &lt;Parameters&gt;</code><br/># # # # dnscmd/config<br/>Modifie la configuration de la zone spécifiée.<br/>Paramètres # # # # #<br/>**<Parameters>**<br/>Spécifiez un paramètre, un nom de zone et, en guise d’option, une valeur. Les valeurs de paramètre utilisent la syntaxe suivante : *paramètre zonename* [*valeur*]<br/>Les valeurs de paramètres suivantes sont documentées dans le reste de cette section :<br/>-   **/aging**<br/>-   **/allownsrecordsautocreation**<br/>-   **/allowupdate**<br/>-   **/forwarderslave**<br/>-   **/forwardertimeout**<br/>-   **/norefreshinterval**<br/>-   **/refreshinterval**<br/>-   **/securesecondaries**<br/>**/aging<ZoneName>**<br/>Active ou désactive le nettoyage dans une zone spécifique.<br/>**/AllowNSRecordsAutoCreation <ZoneName> [<Value>]**<br/>Remplace le paramètre de création d’enregistrement de ressource (NS) du serveur DNS&#39;du serveur de noms s. Les enregistrements de ressource de serveur de noms (NS) précédemment inscrits pour cette zone ne sont pas affectés. Par conséquent, vous devez les supprimer manuellement si vous ne le souhaitez pas.<br/>**/allowupdate<ZoneName>**<br/>Détermine si la zone spécifiée accepte des mises à jour dynamiques.<br/>**/forwarderslave<ZoneName>**<br/>Remplace le paramètre **/isslave** du serveur DNS.<br/>**/forwardertimeout<ZoneName>**<br/>Détermine le nombre de secondes pendant lesquelles une zone DNS attend qu’un redirecteur réponde avant d’essayer un autre redirecteur. Cette valeur remplace la valeur définie au niveau du serveur.<br/>**/norefreshinterval<ZoneName>**<br/>Définit un intervalle de temps pour une zone pendant laquelle aucune actualisation ne peut mettre à jour dynamiquement les enregistrements DNS dans une zone spécifiée.<br/>**/refreshinterval<ZoneName>**<br/>Définit un intervalle de temps pour une zone pendant laquelle les actualisations peuvent mettre à jour dynamiquement les enregistrements DNS dans une zone spécifiée.<br/>**/securesecondaries<ZoneName>**<br/>Détermine les serveurs secondaires qui peuvent recevoir des mises à jour de zone du serveur maître pour cette zone.<br/># # # # Remarques<br/>-Le nom de la zone ne doit être spécifié que pour les paramètres au niveau de la zone.<br/>### <a name=BKMK_4></a>/createbuiltindirectorypartitions dnscmd<br/>crée une partition d’annuaire d’applications DNS. Lorsque DNS est installé, une partition d’annuaire d’applications pour le service est créée au niveau de la forêt et du domaine. Utilisez cette commande pour créer des partitions d’annuaire d’applications DNS qui ont été supprimées ou jamais créées. Sans paramètre, cette commande crée une partition d’annuaire DNS intégrée pour le domaine.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /createbuiltindirectorypartitions [/forest] [/alldomains]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**/Forest**<br/>crée une partition d’annuaire DNS pour la forêt.<br/>**/alldomains**<br/>crée des partitions DNS pour tous les domaines de la forêt.<br/>### <a name=BKMK_5></a>/createdirectorypartition dnscmd<br/>crée une partition d’annuaire d’applications DNS. Lorsque DNS est installé, une partition d’annuaire d’applications pour le service est créée au niveau de la forêt et du domaine. Cette opération permet de créer des partitions d’annuaire d’applications DNS supplémentaires.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /createdirectorypartition &lt;PartitionFQDN&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<PartitionFQDN>**<br/>Nom de domaine complet de la partition de l’annuaire d’applications DNS qui sera créée.<br/>### <a name=BKMK_6></a>/deletedirectorypartition dnscmd<br/>supprime une partition d’annuaire d’applications DNS existante.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /deletedirectorypartition &lt;PartitionFQDN&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<PartitionFQDN>**<br/>Nom de domaine complet de la partition de l’annuaire d’applications DNS qui sera supprimée.<br/>### <a name=BKMK_7></a>/directorypartitioninfo dnscmd<br/>répertorie des informations sur une partition d’annuaire d’applications DNS spécifiée.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /directorypartitioninfo &lt;PartitionFQDN&gt; [/detail]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<PartitionFQDN>**<br/>Nom de domaine complet de la partition de l’annuaire d’applications DNS.<br/>**/Detail**<br/>répertorie toutes les informations relatives à la partition de l’annuaire d’applications.<br/>### <a name=BKMK_8></a>/enlistdirectorypartition dnscmd<br/>Ajoute le serveur DNS à la partition d’annuaire spécifiée&#39;jeu de réplicas.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /enlistdirectorypartition &lt;PartitionFQDN&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<PartitionFQDN>**<br/>Nom de domaine complet de la partition de l’annuaire d’applications DNS.<br/>### <a name=BKMK_9></a>/EnumDirectoryPartitions dnscmd<br/>répertorie les partitions de l’annuaire d’applications DNS pour le serveur spécifié.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /enumdirectorypartitions [/custom]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**/custom**<br/>répertorie uniquement les partitions d’annuaire créées par l’utilisateur.<br/>### <a name=BKMK_10></a>/enumrecords dnscmd<br/>répertorie les enregistrements de ressources d’un nœud spécifié dans une zone DNS.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /enumrecords &lt;ZoneName&gt; &lt;NodeName&gt; [/type &lt;RRtype&gt; &lt;Rrdata&gt;] [/authority] [/glue] [/additional] [/node | /child | /startchild&lt;ChildName&gt;] [/continue | /detail]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS que vous envisagez de gérer, représenté par une adresse IP, un nom de domaine complet ou un nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**/enumrecords**<br/>répertorie les enregistrements de ressources dans la zone spécifiée.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à laquelle les enregistrements de ressource appartiennent.<br/>**<NodeName>**<br/>Spécifie le nom du nœud des enregistrements de ressource.<br/>**/type <RRtype><Rrdata>**<br/>Spécifie le type d’enregistrements de ressource à répertorier et le type de données attendu :<br/>**<RRtype>**<br/>Spécifie le type d’enregistrements de ressource à répertorier.<br/>**<Rrdata>**<br/>Spécifie le type de données qui est un enregistrement attendu.<br/>**/authority**<br/>Comprend des données faisant autorité.<br/>**/glue**<br/>Comprend les données de collage.<br/>**/additional**<br/>Contient toutes les informations supplémentaires sur les enregistrements de ressources listés.<br/>**{/node |/Child |/StartChild <ChildName>}**<br/>Filtre ou ajoute des informations à l’affichage des enregistrements de ressources :<br/>**/node**<br/>répertorie uniquement les enregistrements de ressources du nœud spécifié.<br/>**/Child**<br/>répertorie uniquement les enregistrements de ressources d’un domaine enfant spécifié.<br/>**/startchild<ChildName>**<br/>Commence la liste au niveau du domaine enfant spécifié.<br/>**/continue | /Detail**<br/>Spécifie le mode d’affichage des données retournées.<br/>**/continue**<br/>répertorie uniquement les enregistrements de ressources avec leur type et leurs données.<br/>**/Detail**<br/>répertorie toutes les informations sur les enregistrements de ressources.<br/># # # # Utilisation de l’exemple<br/><code>dnscmd /enumrecords test.contoso.com test /additional</code><br/>### <a name=BKMK_11></a>/enumzones dnscmd<br/>répertorie les zones qui existent sur le serveur DNS spécifié.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /enumzones [/primary | /secondary | /forwarder | /stub | /cache | /auto-created] [/forward | /reverse | /ds | /file] [/domaindirectorypartition | /forestdirectorypartition | /customdirectorypartition | /legacydirectorypartition | /directorypartition &lt;PartitionFQDN&gt;]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**/Primary | /Secondary | /FORWARDER | /stub | /cache | /auto-created**<br/>Filtre les types de zones à afficher :<br/>**/Primary**<br/>répertorie toutes les zones qui sont soit des zones principales standard, soit des zones intégrées à Active Directory.<br/>**/secondary**<br/>répertorie toutes les zones secondaires standard.<br/>**/forwarder**<br/>répertorie les zones qui transfèrent les requêtes non résolues à un autre serveur DNS.<br/>**/stub**<br/>répertorie toutes les zones de stub.<br/>**/cache**<br/>répertorie uniquement les zones qui sont chargées dans le cache.<br/>**/auto-created**<br/>répertorie les zones qui ont été créées automatiquement au cours de l’installation du serveur DNS.<br/>**/Forward | /Reverse | /DS | /file**<br/>Spécifie des filtres supplémentaires pour les types de zones à afficher :<br/>**/forward**<br/>répertorie les zones de recherche directe.<br/>**/reverse**<br/>répertorie les zones de recherche inversée.<br/>**/DS**<br/>répertorie les zones intégrées à Active Directory.<br/>**/file**<br/>répertorie les zones qui sont sauvegardées par des fichiers.<br/>**/domaindirectorypartition**<br/>répertorie les zones stockées dans la partition d’annuaire du domaine.<br/>**/forestdirectorypartition**<br/>répertorie les zones stockées dans la partition de l’annuaire d’applications DNS de la forêt.<br/>**/customdirectorypartition**<br/>répertorie toutes les zones stockées dans une partition d’annuaire d’applications définie par l’utilisateur.<br/>**/legacydirectorypartition**<br/>répertorie toutes les zones stockées dans la partition d’annuaire du domaine.<br/>**/directorypartition<PartitionFQDN>**<br/>répertorie toutes les zones stockées dans la partition d’annuaire spécifiée.<br/># # # # Remarques<br/>-Les paramètres **enumzones** agissent en tant que filtres sur la liste des zones. Si aucun filtre n’est spécifié, une liste complète des zones est retournée. Lorsqu’un filtre est spécifié, seules les zones qui répondent aux critères du filtre&#39;s sont incluses dans la liste de zones retournée.<br/># # # # Exemple<br/>Voir <a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[Example 2 : Affichez la liste complète des zones sur un serveur DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>exemple 2 : afficher une liste complète des zones sur un serveur</a> DNS ou <a hrefhttps://technet.microsoft.com/library/cc784399(v=ws.10).aspx = Data-RAW-source =[exemple 3 : afficher une liste de zones créées sur un serveur DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>exemple 3 : afficher la liste des zones créées sur un serveur</a>DNS.<br/>### <a name=BKMK_25a></a>/ExportSettings dnscmd<br/>crée un fichier texte qui répertorie les détails de configuration d’un serveur DNS. Le fichier texte est nommé DnsSettings. txt. Il se trouve dans le répertoire%SystemRoot%\System32\Dns du serveur.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /exportsettings</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par la syntaxe de l’ordinateur local, l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/># # # # Remarques<br/>-Vous pouvez utiliser les informations contenues dans le fichier que **dnscmd/ExportSettings** crée pour résoudre les problèmes de configuration ou pour vous assurer que vous avez configuré plusieurs serveurs de la même manière.<br/>### <a name=BKMK_12></a>dnscmd/info<br/>Affiche les paramètres de la section DNS du Registre du serveur spécifié : **HKEY_LOCAL_MACHINE \system\currentcontrolset\services\dns\parameters**<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /info [&lt;Setting&gt;]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<Setting>**<br/>Tout paramètre renvoyé par la commande **info** peut être spécifié individuellement. Si un paramètre n’est pas spécifié, un rapport de paramètres communs est retourné.<br/># # # # Remarques<br/>: Cette commande affiche les paramètres du Registre qui se trouvent au niveau du serveur DNS. Pour afficher les paramètres de Registre au niveau de la zone, utilisez la commande <a href=#BKMK_26 data-raw-source=[zoneinfo](#BKMK_26)>zoneinfo</a> . Pour afficher la liste des paramètres qui peuvent être affichés avec cette commande, consultez la description de la <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>configuration</a> .<br/># # # # Exemple<br/>Voir <a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[Example 4 : afficher le paramètre IsSlave à partir d’un serveur DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>exemple 4 : afficher le paramètre IsSlave à partir</a> d’un serveur DNS ouhttps://technet.microsoft.com/library/cc784399(v=ws.10).aspx <a href = Data-RAW-source =[Example 5 : afficher le paramètre Recursiontimeout à partir d’un serveur DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>Example 5 : afficher le</a>paramètre Recursiontimeout à partir d’un serveur DNS.<br/>### <a name=BKMK_29a></a>/ipvalidate dnscmd<br/>Teste si une adresse IP identifie un serveur DNS opérationnel ou si le serveur DNS peut agir comme un redirecteur, un serveur d’indications de racine ou un serveur maître pour une zone spécifique.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /ipvalidate &lt;Context&gt; [&lt;ZoneName&gt;] [[&lt;IPaddress&gt;]]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par la syntaxe de l’ordinateur local, l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<Context>**<br/>Spécifie le type de test à effectuer. Vous pouvez spécifier l’un des tests suivants :<br/>-   **/dnsservers** teste que les ordinateurs avec les adresses que vous spécifiez sont des serveurs DNS qui fonctionnent.<br/>-   **/Forwarders** teste que les adresses que vous spécifiez identifient les serveurs DNS qui peuvent agir comme des redirecteurs.<br/>-   **/roothints** teste que les adresses que vous spécifiez identifient les serveurs DNS qui peuvent agir comme des serveurs de noms d’indications de racine.<br/>-   **/zonemasters** teste que les adresses que vous spécifiez identifient les serveurs DNS qui sont des serveurs maîtres pour *zonename*.<br/>**<ZoneName>**<br/>Identifie la zone. Utilisez ce paramètre avec le paramètre **/zonemasters** .<br/>**<IPaddress>**<br/>Spécifie les adresses IP testées par la commande.<br/># # # # Utilisation de l’exemple<br/><pre>dnscmd dnssvr1.contoso.com /ipvalidate /dnsservers 10.0.0.1 10.0.0.2  
dnscmd dnssvr1.contoso.com /ipvalidate /zonemasters corp.contoso.com 10.0.0.2</pre><br/>### <a name=BKMK_13></a>/nodedelete dnscmd<br/>supprime tous les enregistrements pour un hôte spécifié.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /nodedelete &lt;ZoneName&gt; &lt;NodeName&gt; [/tree] [/f]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone.<br/>**<NodeName>**<br/>Spécifie le nom d’hôte du nœud à supprimer.<br/>**/tree**<br/>supprime tous les enregistrements enfants.<br/>**/f**<br/>exécute la commande sans demander de confirmation.<br/># # # # Exemple<br/>Voir <a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[exemple 6 : supprimer les enregistrements d’un nœud](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>exemple 6 : supprimer les enregistrements d’un nœud</a>.<br/>### <a name=BKMK_14></a>/recordadd dnscmd<br/>Ajoute un enregistrement à une zone spécifiée dans un serveur DNS.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /recordadd &lt;ZoneName&gt; &lt;NodeName&gt; &lt;RRtype&gt; &lt;Rrdata&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par la syntaxe de l’ordinateur local, l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie la zone dans laquelle l’enregistrement réside.<br/>**<NodeName>**<br/>Spécifie un nœud spécifique dans la zone.<br/>**<RRtype>**<br/>Spécifie le type d’enregistrement à ajouter.<br/>**<Rrdata>**<br/>Spécifie le type de données attendu.<br/>&gt; [!NOTE]<br/>&gt;Lorsque vous ajoutez un enregistrement, veillez à utiliser le type de données et le format de données corrects. Pour obtenir la liste des types d’enregistrements de ressource et des types de données appropriés, voirhttps://technet.microsoft.com/library/cc758321(v=ws.10).aspx <a href = Data-RAW-source = informations de référence</a>sur les enregistrements de[ressources](https://technet.microsoft.com/library/cc758321(v=ws.10).aspx)>référence des enregistrements de ressources.<br/># # # # Utilisation de l’exemple<br/><pre>dnscmd dnssvr1.contoso.com /recordadd test A 10.0.0.5  
dnscmd /recordadd test.contoso.com test MX 10 mailserver.test.contoso.com</pre><br/>### <a name=BKMK_15></a>/recorddelete dnscmd<br/>supprime un enregistrement de ressource d’une zone spécifiée.<br/># # # # Syntaxe<br/><code>dnscmd &lt;ServerName&gt; /recorddelete &lt;ZoneName&gt; &lt;NodeName&gt; &lt;RRtype&gt; &lt;Rrdata&gt;[/f]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie la zone dans laquelle l’enregistrement de ressource réside.<br/>**<NodeName>**<br/>Spécifie le nom de l'hôte.<br/>**<RRtype>**<br/>Spécifie le type d’enregistrement de ressource à supprimer.<br/>**<Rrdata>**<br/>Spécifie le type de données attendu.<br/>**/f**<br/>exécute la commande sans demander de confirmation :<br/>-Étant donné que les nœuds peuvent avoir plusieurs enregistrements de ressource, cette commande vous oblige à être très précis sur le type d’enregistrement de ressource que vous souhaitez supprimer.<br/>-Si vous spécifiez un type de données et que vous ne spécifiez pas de type de données d’enregistrement de ressource, tous les enregistrements ayant ce type de données spécifique pour le nœud spécifié sont supprimés.<br/># # # # Utilisation de l’exemple<br/><code>dnscmd /recorddelete test.contoso.com test MX 10 mailserver.test.contoso.com</code><br/>### <a name=BKMK_16></a>/ResetForwarders dnscmd<br/>sélectionne ou réinitialise les adresses IP sur lesquelles le serveur DNS transfère les requêtes DNS lorsqu’il ne peut pas les résoudre localement.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /resetforwarders [&lt;IPaddress&gt; [,&lt;IPaddress&gt;]...][/timeout &lt;timeOut&gt;] [/slave|/noslave]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<IPaddress>**<br/>répertorie les adresses IP auxquelles le serveur DNS transmet les requêtes non résolues.<br/>**/Timeout<timeOut>**<br/>Définit le nombre de secondes pendant lesquelles le serveur DNS attend une réponse du redirecteur. Par défaut, cette valeur est de cinq secondes.<br/>**/Slave |/NoSlave**<br/>Détermine si le serveur DNS effectue ses propres requêtes itératives si le redirecteur ne parvient pas à résoudre une requête :<br/>**/slave**<br/>Empêche le serveur DNS d’effectuer ses propres requêtes itératives si le redirecteur ne parvient pas à résoudre une requête.<br/>**/noslave**<br/>Permet au serveur DNS d’effectuer ses propres requêtes itératives si le redirecteur ne parvient pas à résoudre une requête. Il s'agit du paramètre par défaut.<br/># # # # Remarques<br/>-Par défaut, un serveur DNS effectue des requêtes itératives lorsqu’il ne parvient pas à résoudre une requête.<br/>-Définir des adresses IP à l’aide de la commande **ResetForwarders** oblige le serveur DNS à effectuer des requêtes récursives aux serveurs DNS aux adresses IP spécifiées. Si les redirecteurs ne résolvent pas la requête, le serveur DNS peut alors exécuter ses propres requêtes itératives.<br/>-Si le paramètre **/Slave** est utilisé, le serveur DNS n’effectue pas ses propres requêtes itératives. Cela signifie que le serveur DNS transfère les requêtes non résolues uniquement aux serveurs DNS de la liste et qu’il ne tente pas de requêtes itératives si les redirecteurs ne les résolvent pas. Il est plus efficace de définir une adresse IP en tant que redirecteur pour un serveur DNS. Vous pouvez utiliser la commande **ResetForwarders** pour les serveurs internes d’un réseau pour transférer leurs requêtes non résolues à un serveur DNS qui a une connexion externe.<br/>-Si vous affichez deux fois une adresse IP redirecteur, le serveur DNS tente de l’envoyer à deux reprises à ce serveur.<br/># # # # Utilisation de l’exemple<br/><pre>dnscmd dnssvr1.contoso.com /resetforwarders 10.0.0.1 /timeout 7 /slave  
dnscmd dnssvr1.contoso.com /resetforwarders /noslave</pre><br/>### <a name=BKMK_17></a>/ResetListenAddresses dnscmd<br/>Spécifie les adresses IP sur un serveur qui écoute les demandes du client DNS.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /resetlistenaddresses [&lt;listenaddress&gt;]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<listenaddress>**<br/>Spécifie une adresse IP sur le serveur DNS qui écoute les demandes du client DNS. Si aucune adresse d’écoute n’est spécifiée, toutes les adresses IP sur le serveur écoutent les demandes des clients.<br/># # # # Remarques<br/>-Par défaut, toutes les adresses IP d’un serveur DNS écoutent les demandes DNS du client.<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /resetlistenaddresses 10.0.0.1</code><br/>### <a name=BKMK_18></a>/StartScavenging dnscmd<br/>Indique à un serveur DNS de tenter une recherche immédiate des enregistrements de ressources obsolètes dans un serveur DNS spécifié.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /startscavenging</code><br/># # # # (Paramètre)<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/># # # # Remarques<br/>-La réussite de cette commande démarre immédiatement un nettoyage.<br/>-Bien que la commande de démarrage du nettoyage s’exécute correctement, le nettoyage ne démarre pas, sauf si les conditions préalables suivantes sont remplies :<br/>    -Le nettoyage est activé pour le serveur et la zone.<br/>    -La zone est démarrée.<br/>    -Les enregistrements de ressource ont un horodatage.<br/>-Pour plus d’informations sur l’activation du nettoyage pour le serveur, consultez le paramètre **ScavengingInterval** sous syntaxe au niveau du serveur dans la section <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/>-Pour plus d’informations sur l’activation du nettoyage pour la zone, consultez le paramètre **Aging** sous la syntaxe au niveau de la zone dans la section <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/>-Pour plus d’informations sur le démarrage d’une zone en pause, consultez la section <a href=#BKMK_35 data-raw-source=[zoneresume](#BKMK_35)>zoneresume</a> .<br/>-Pour plus d’informations sur la vérification des enregistrements de ressources pour un horodatage, consultez la section <a href=#BKMK_1 data-raw-source=[ageallrecords](#BKMK_1)>AgeAllRecords</a> .<br/>-Si le nettoyage échoue, aucun message d’avertissement ne s’affiche.<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /startscavenging</code><br/>### <a name=BKMK_19></a>/Statistics dnscmd<br/>Affiche ou efface les données d’un serveur DNS spécifié.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /statistics [&lt;StatID&gt;] [/clear]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<StatID>**<br/>Spécifie la statistique ou la combinaison de statistiques à afficher. Un numéro d’identification est utilisé pour identifier une statistique. Si aucun numéro d’identification de statistique n’est spécifié, toutes les statistiques s’affichent.<br/>La liste suivante répertorie les nombres qui peuvent être spécifiés et la statistique correspondante qui affiche :<br/>**00000001**<br/>time<br/>**00000002**<br/>query<br/>**00000004**<br/>query2<br/>**00000008**<br/>Recurse<br/>**00000010**<br/>Master<br/>**00000020**<br/>Secondary<br/>**00000040**<br/>WINS<br/>**00000100**<br/>Update<br/>**00000200**<br/>SkwanSec<br/>**00000400**<br/>SD<br/>**00010000**<br/>Mémoire<br/>**00100000**<br/>PacketMem<br/>**00040000**<br/>DBase<br/>**00080000**<br/>Enregistrements<br/>**00200000**<br/>NbstatMem<br/>**/Clear**<br/>réinitialise le compteur de statistiques spécifié à zéro.<br/># # # # Remarques<br/>-La commande **Statistics** affiche des compteurs qui commencent sur le serveur DNS au démarrage ou à la reprise.<br/># # # # Exemples<br/>Voir <a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[exemple 7 : afficher les statistiques de temps pour un serveur DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>exemple 7 : afficher les statistiques de temps</a> pour un serveur DNS ouhttps://technet.microsoft.com/library/cc784399(v=ws.10).aspx <a href = Data-RAW-source =[Example 8 : afficher les statistiques de NbstatMem pour un serveur DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>l’exemple 8 :</a>afficher les statistiques NbstatMem pour un serveur DNS.<br/>### <a name=BKMK_20></a>/unenlistdirectorypartition dnscmd<br/>supprime le serveur DNS de la partition d’annuaire spécifiée&#39;jeu de réplicas.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /unenlistdirectorypartition &lt;PartitionFQDN&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<PartitionFQDN>**<br/>Nom de domaine complet de la partition de l’annuaire d’applications DNS qui sera supprimée.<br/>### <a name=BKMK_21></a>/writebackfiles dnscmd<br/>Vérifie si la mémoire du serveur DNS a été modifiée et les écrit dans un stockage persistant.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /writebackfiles [&lt;ZoneName&gt;]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à mettre à jour.<br/># # # # Remarques<br/>-La commande **writebackfiles** met à jour toutes les zones de modification ou une zone spécifiée. Une zone est modifiée lorsqu’il y a des modifications en mémoire qui n’ont pas encore été écrites dans un stockage persistant. Il s’agit d’une opération au niveau du serveur qui vérifie toutes les zones. Vous pouvez spécifier une zone dans cette opération ou vous pouvez utiliser l’opération <a href=#BKMK_37 data-raw-source=[zonewriteback](#BKMK_37)>zonewriteback</a> .<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /writebackfiles</code><br/>### <a name=BKMK_22></a>/ZoneAdd dnscmd<br/>Ajoute une zone au serveur DNS.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zoneadd &lt;ZoneName&gt; &lt;Zonetype&gt; [/dp &lt;FQDN&gt;| {/domain|/enterprise|/legacy}]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone.<br/>**<Zonetype>**<br/>Spécifie le type de zone à créer. Chaque type de zone a des paramètres obligatoires différents :<br/>**/dsprimary**<br/>crée une zone intégrée à Active Directory.<br/>**/Primary/file<FileName>**<br/>crée une zone principale standard et spécifie le nom du fichier qui stocke les informations de zone.<br/>**/Secondary <MasterIPaddress> [<MasterIPaddress>...]**<br/>crée une zone secondaire standard.<br/>**/stub <MasterIPaddress> [<MasterIPaddress>...]/file<FileName>**<br/>crée une zone de stub sauvegardée dans un fichier.<br/>**/DsStub <MasterIPaddress> [<MasterIPaddress>...]**<br/>crée une zone de stub intégrée à Active Directory.<br/>**/Forwarder <MasterIPaddress> [<MasterIPaddress>].../file<FileName>**<br/>Spécifie que la zone créée transfère les requêtes non résolues à un autre serveur DNS.<br/>**/dsforwarder**<br/>Spécifie que la zone intégrée Active Directory qui a été créée transfère les requêtes non résolues à un autre serveur DNS.<br/>**/DP <FQDN> {/Domain |/Enterprise |/Legacy}**<br/>Spécifie la partition d’annuaire sur laquelle la zone doit être stockée.<br/>**<FQDN>**<br/>Spécifie le nom de domaine complet de la partition d’annuaire.<br/>**/Domain**<br/>Stocke la zone sur la partition d’annuaire du domaine.<br/>**/enterprise**<br/>Stocke la zone sur la partition d’annuaire d’entreprise.<br/>**/legacy**<br/>Stocke la zone sur une partition d’annuaire héritée.<br/># # # # Remarques<br/>-La spécification d’un type de zone **/Forwarder** ou **/DsForwarder** crée une zone qui effectue un transfert conditionnel.<br/># # # # Utilisation de l’exemple<br/><pre>dnscmd dnssvr1.contoso.com /zoneadd test.contoso.com /dsprimary  
dnscmd dnssvr1.contoso.com /zoneadd secondtest.contoso.com /secondary 10.0.0.2</pre><br/>### <a name=BKMK_23></a>/zonechangedirectorypartition dnscmd<br/>modifie la partition d’annuaire sur laquelle réside la zone spécifiée.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zonechangedirectorypartition &lt;ZoneName&gt;] {[&lt;NewPartitionName&gt;] | [&lt;Zonetype&gt;] }</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Nom de domaine complet de la partition d’annuaire actuelle sur laquelle la zone réside.<br/>**<NewPartitionName>**<br/>Nom de domaine complet de la partition d’annuaire vers laquelle la zone sera déplacée.<br/>**<Zonetype>**<br/>Spécifie le type de partition d’annuaire vers laquelle la zone sera déplacée.<br/>**/Domain**<br/>déplace la zone vers la partition d’annuaire de domaine intégrée.<br/>**/Forest**<br/>déplace la zone vers la partition d’annuaire de la forêt intégrée.<br/>**/legacy**<br/>déplace la zone vers la partition d’annuaire créée pour les contrôleurs de domaine antérieurs à Active Directory. Ces partitions d’annuaire ne sont pas nécessaires pour le mode natif.<br/>### <a name=BKMK_24></a>/zonedelete dnscmd<br/>supprime une zone spécifiée.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zonedelete &lt;ZoneName&gt; [/dsdel] [/f]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à supprimer.<br/>**/dsdel**<br/>supprime la zone de AD DS.<br/>**/f**<br/>Exécute la commande sans demander de confirmation.<br/># # # # Exemple<br/>Voir <a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[exemple 9 : supprimer une zone d’un serveur DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>exemple 9 : supprimer une zone d’un serveur</a>DNS.<br/>### <a name=BKMK_25></a>/zoneexport dnscmd<br/>crée un fichier texte qui répertorie les enregistrements de ressources d’une zone spécifiée.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zoneexport &lt;ZoneName&gt; &lt;ZoneExportFile&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par la syntaxe de l’ordinateur local, l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone.<br/>**<ZoneExportFile>**<br/>Spécifie le nom du fichier à créer.<br/># # # # Remarques<br/>-L’opération **zoneexport** crée un fichier d’enregistrements de ressources pour une zone intégrée à Active Directory à des fins de dépannage. Par défaut, le fichier créé par cette commande est placé dans le répertoire DNS, qui est par défaut le répertoire% SystemRoot%/System32/Dns<br/># # # # Exemple<br/>Consultez <a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[exemple 10 : exporter la liste des enregistrements de ressources de zone vers un fichier](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>exemple 10 : exporter la liste des</a>enregistrements de ressources de zone vers un fichier.<br/>### <a name=BKMK_26></a>/zoneinfo dnscmd<br/>Affiche les paramètres de la section du registre de la zone spécifiée : **HKEY_LOCAL_MACHINE zonename\<\system\currentcontrolset\services\dns\parameters\zones>**<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zoneinfo &lt;ZoneName&gt;  [&lt;Setting&gt;]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone.<br/>**<Setting>**<br/>Vous pouvez spécifier individuellement n’importe quel paramètre renvoyé par la commande **zoneinfo** . Si vous ne spécifiez pas de paramètre, tous les paramètres sont retournés.<br/># # # # Remarques<br/>-La commande **zoneinfo** affiche les paramètres du Registre qui se trouvent au niveau de la zone DNS à **HKEY_LOCAL_MACHINE\<\system\currentcontrolset\services\dns\parameters\zones zonename>**.<br/>-Pour afficher les paramètres de Registre au niveau du serveur, utilisez la commande <a href=#BKMK_12 data-raw-source=[info](#BKMK_12)>info</a> .<br/>-Pour afficher la liste des paramètres que vous pouvez afficher à l’aide de cette commande, consultez la commande <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/># # # # Exemple<br/>Consultez <a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[exemple 11 : afficher les paramètres RefreshInterval dans le registre](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>exemple 11 : afficher le paramètre RefreshInterval à</a> partir du registre ou <https://technet.microsoft.com/library/cc784399(v=ws.10).aspx a href = Data-RAW-source =[exemple 12 : afficher le paramètre de vieillissement dans le registre>l'](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx) exemple 12 :</a>afficher les paramètres d’ancienneté du Registre.<br/>### <a name=BKMK_27></a>/zonepause dnscmd<br/>suspend la zone spécifiée, qui ignore ensuite les demandes de requête.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zonepause &lt;ZoneName&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à suspendre.<br/># # # # Remarques<br/>-Pour reprendre une zone et la rendre disponible une fois qu’elle a été suspendue, utilisez la commande <a href=#BKMK_35 data-raw-source=[zoneresume](#BKMK_35)>zoneresume</a> .<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /zonepause test.contoso.com</code><br/>### <a name=BKMK_28></a>/zoneprint dnscmd<br/>répertorie les enregistrements dans une zone.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zoneprint &lt;ZoneName&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par la syntaxe de l’ordinateur local, l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Identifie la zone à répertorier.<br/>### <a name=BKMK_30></a>/zonerefresh dnscmd<br/>force une zone DNS secondaire à être mise à jour à partir de la zone maître.<br/># # # # Syntaxe<br/><code>dnscmd &lt;ServerName&gt; /zonerefresh &lt;ZoneName&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à actualiser.<br/># # # # Remarques<br/>-La commande **zonerefresh** force une vérification du numéro de version dans l’enregistrement de ressource SOA (Start of Authority) du serveur maître. Si le numéro de version sur le serveur maître est supérieur au numéro de version du serveur secondaire&#39;s, un transfert de zone est initié pour mettre à jour le serveur secondaire. Si le numéro de version est le même, aucun transfert de zone ne se produit.<br/>-La vérification forcée se produit toutes les 15 minutes par défaut. Pour modifier la valeur par défaut, utilisez la commande **dnscmd config RefreshInterval** .<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /zonerefresh test.contoso.com</code><br/>### <a name=BKMK_31></a>/zonereload dnscmd<br/>Copie les informations de zone à partir de sa source.<br/># # # # Syntaxe<br/><code>dnscmd &lt;ServerName&gt; /zonereload &lt;ZoneName&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à recharger.<br/># # # # Remarques<br/>-Si la zone est intégrée à Active Directory, elle se recharge à partir de AD DS.<br/>-Si la zone est une zone standard sauvegardée dans un fichier, elle se recharge à partir d’un fichier.<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /zonereload test.contoso.com</code><br/>### <a name=BKMK_32></a>/ZoneResetMasters dnscmd<br/>réinitialise les adresses IP du serveur maître qui fournit les informations de transfert de zone à une zone secondaire.<br/># # # # Syntaxe<br/><code>dnscmd &lt;ServerName&gt; /zoneresetmasters &lt;ZoneName&gt; [/local] [&lt;IPaddress&gt; [&lt;IPaddress&gt;]...]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à recharger.<br/>**/local**<br/>Définit une liste maître locale. Ce paramètre est utilisé pour les zones intégrées Active Directory.<br/>**<IPaddress>**<br/>Les adresses IP des serveurs maîtres de la zone secondaire.<br/># # # # Remarques<br/>-Cette valeur est définie à l’origine lors de la création de la zone secondaire. Utilisez la commande **ZoneResetMasters** sur le serveur secondaire. Cette valeur n’a aucun effet si elle est définie sur le serveur DNS maître.<br/># # # # Utilisation de l’exemple<br/><pre>dnscmd dnssvr1.contoso.com /zoneresetmasters test.contoso.com 10.0.0.1  
dnscmd dnssvr1.contoso.com /zoneresetmasters test.contoso.com /local</pre><br/>### <a name=BKMK_33></a>/ZoneResetScavengeServers dnscmd<br/>modifie les adresses IP des serveurs qui peuvent nettoyer la zone spécifiée.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresetscavengeservers &lt;ZoneName&gt; [&lt;IPaddress&gt; [&lt;IPaddress&gt;]...]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par la syntaxe de l’ordinateur local, l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Identifie la zone à nettoyer.<br/>**<IPaddress>**<br/>répertorie les adresses IP des serveurs qui peuvent effectuer le nettoyage. Si ce paramètre est omis, tous les serveurs qui hébergent cette zone peuvent le nettoyer.<br/># # # # Remarques<br/>-Par défaut, tous les serveurs qui hébergent une zone peuvent nettoyer cette zone.<br/>-Si une zone est hébergée sur plusieurs serveurs DNS, vous pouvez utiliser cette commande pour réduire le nombre de nettoyages d’une zone.<br/>-Le nettoyage doit être activé sur le serveur DNS et la zone qui est affectée par cette commande.<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /zoneresetscavengeservers test.contoso.com 10.0.0.1 10.0.0.2</code><br/>### <a name=BKMK_34></a>/zoneresetsecondaries dnscmd<br/>Spécifie la liste des adresses IP des serveurs secondaires auxquels un serveur maître répond quand un transfert de zone lui est demandé.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresetsecondaries &lt;ZoneName&gt; {/noxfr | /nonsecure | /securens | /securelist &lt;SecurityIPaddresses&gt;} {/nonotify | /notify | /notifylist &lt;NotifyIPaddresses&gt;}</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si le paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone dont les serveurs secondaires seront réinitialisés.<br/>**/NoXfr | /Nonsecure | /securens | /securelist<SecurityIPaddresses>**<br/>Spécifie si la totalité ou une partie des serveurs secondaires qui demandent une mise à jour obtiennent une mise à jour.<br/>**/noxfr**<br/>Spécifie qu’aucun transfert de zone n’est autorisé.<br/>**/nonsecure**<br/>Spécifie que toutes les demandes de transfert de zone sont accordées.<br/>**/securens**<br/>Spécifie que seul le serveur qui est listé dans l’enregistrement de ressource de serveur de noms (NS) pour la zone reçoit un transfert.<br/>**/securelist**<br/>Spécifie que les transferts de zone sont accordés uniquement à la liste des serveurs. Ce paramètre doit être suivi d’une ou de toutes les adresses IP utilisées par le serveur maître.<br/>**<SecurityIPaddresses>**<br/>répertorie les adresses IP qui reçoivent les transferts de zone à partir du serveur maître. Ce paramètre est utilisé uniquement avec le paramètre **/securelist** .<br/>**/nonotify | /Notify | /notifylist<NotifyIPaddresses>**<br/>Spécifie qu’une notification de modification est envoyée uniquement à certains serveurs secondaires :<br/>**/nonotify**<br/>Spécifie qu’aucune notification de modification n’est envoyée aux serveurs secondaires.<br/>**/notify**<br/>Spécifie que les notifications de modifications sont envoyées à tous les serveurs secondaires.<br/>**/notifylist**<br/>Spécifie que les notifications de modifications sont envoyées uniquement à la liste des serveurs. Cette commande doit être suivie d’une ou de toutes les adresses IP utilisées par le serveur maître.<br/>**<NotifyIPaddresses>**<br/>Spécifie l’adresse IP ou les adresses du ou des serveurs secondaires auxquels les notifications de modifications sont envoyées. Cette liste est utilisée uniquement avec le paramètre **/notifylist** .<br/># # # # Remarques<br/>-Utilisez la commande **zoneresetsecondaries** sur le serveur maître pour spécifier comment il répond aux demandes de transfert de zone des serveurs secondaires.<br/># # # # Utilisation de l’exemple<br/><pre>dnscmd dnssvr1.contoso.com /zoneresetsecondaries test.contoso.com /noxfr /nonotify  
dnscmd dnssvr1.contoso.com /zoneresetsecondaries test.contoso.com /securelist 11.0.0.2</pre><br/>### <a name=BKMK_29></a>/ZoneResetType dnscmd<br/>modifie le type de la zone.<br/># # # # Syntaxe<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresettype &lt;ZoneName&gt; &lt;Zonetype&gt; [/overwrite_mem | /overwrite_ds]</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par la syntaxe de l’ordinateur local, l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Identifie la zone sur laquelle le type sera modifié.<br/>**<Zonetype>**<br/>Spécifie le type de zone à créer. Chaque type a des paramètres obligatoires différents :<br/>**/dsprimary**<br/>crée une zone intégrée à Active Directory.<br/>**/Primary/file<FileName>**<br/>crée une zone principale standard.<br/>**/Secondary <MasterIPaddress> [,<MasterIPaddress>...]**<br/>crée une zone secondaire standard.<br/>**/stub <MasterIPaddress>[,<MasterIPaddress>...]/file<FileName>**<br/>crée une zone de stub sauvegardée dans un fichier.<br/>**/DsStub <MasterIPaddress>[,<MasterIPaddress>...]**<br/>crée une zone de stub intégrée à Active Directory.<br/>**/Forwarder &lt;MasterIPaddress [,<MasterIPaddress>].../file<FileName>**<br/>Spécifie que la zone créée transfère les requêtes non résolues à un autre serveur DNS.<br/>**/dsforwarder**<br/>Spécifie que la zone intégrée Active Directory qui a été créée transfère les requêtes non résolues à un autre serveur DNS.<br/>**/overwrite_mem | /overwrite_ds**<br/>Spécifie comment remplacer les données existantes :<br/>**/overwrite_mem**<br/>Remplace les données DNS des données dans AD DS.<br/>**/overwrite_ds**<br/>Remplace les données existantes dans AD DS.<br/># # # # Remarques<br/>-La définition du type de zone **/DsForwarder** crée une zone qui effectue un transfert conditionnel.<br/># # # # Utilisation de l’exemple<br/><pre>dnscmd dnssvr1.contoso.com /zoneresettype test.contoso.com /primary /file test.contoso.com.dns  
dnscmd dnssvr1.contoso.com /zoneresettype second.contoso.com /secondary 10.0.0.2</pre><br/>### <a name=BKMK_35></a>/zoneresume dnscmd<br/>démarre une zone spécifiée qui a été précédemment suspendue.<br/># # # # Syntaxe<br/><code>dnscmd &lt;ServerName&gt; /zoneresume &lt;ZoneName&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à reprendre.<br/># # # # Remarques<br/>-Vous pouvez utiliser cette opération pour inverser l’opération <a href=#BKMK_27 data-raw-source=[zonepause](#BKMK_27)>zonepause</a> .<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /zoneresume test.contoso.com</code><br/>### <a name=BKMK_36></a>/zoneupdatefromds dnscmd<br/>Met à jour la zone intégrée Active Directory spécifiée à partir de AD DS.<br/># # # # Syntaxe<br/><code>dnscmd &lt;ServerName&gt; /zoneupdatefromds &lt;ZoneName&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à mettre à jour.<br/># # # # Remarques<br/>-les zones intégrées Active Directory effectuent cette mise à jour par défaut toutes les cinq minutes. Pour modifier ce paramètre, utilisez la commande **dnscmd config dspollinginterval** .<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /zoneupdatefromds</code><br/>### <a name=BKMK_37></a>/zonewriteback dnscmd<br/>Vérifie la mémoire du serveur DNS pour rechercher les modifications pertinentes pour une zone spécifiée et les écrit dans un stockage persistant.<br/># # # # Syntaxe<br/><code>dnscmd &lt;ServerName&gt; /zonewriteback &lt;ZoneName&gt;</code><br/>Paramètres # # # # #<br/>**<ServerName>**<br/>Spécifie le serveur DNS à gérer, représenté par l’adresse IP, le nom de domaine complet ou le nom d’hôte. Si ce paramètre est omis, le serveur local est utilisé.<br/>**<ZoneName>**<br/>Spécifie le nom de la zone à mettre à jour.<br/># # # # Remarques<br/>: Il s’agit d’une opération au niveau de la zone. Vous pouvez mettre à jour toutes les zones sur un serveur DNS avec l’opération <a href=#BKMK_21 data-raw-source=[writebackfiles](#BKMK_21)>writebackfiles</a> .<br/># # # # Utilisation de l’exemple<br/><code>dnscmd dnssvr1.contoso.com /zonewriteback test.contoso.com</code>  
